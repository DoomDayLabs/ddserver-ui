webpackJsonp([0],{

/***/ "./node_modules/css-loader/index.js?{\"modules\":true,\"sourceMap\":true,\"localIdentName\":\"[name]__[local]--[hash:base64:8]\"}!./node_modules/postcss-loader/lib/index.js!./src_admin/app-styles.css":
/* no static exports found */
/* all exports used */
/*!**************************************************************************************************************************************************************!*\
  !*** ./~/css-loader?{"modules":true,"sourceMap":true,"localIdentName":"[name]__[local]--[hash:base64:8]"}!./~/postcss-loader/lib!./src_admin/app-styles.css ***!
  \**************************************************************************************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../~/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, ".app-styles__snackbar--ym0OJMcG{\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}", "", {"version":3,"sources":["/Volumes/WORK/doomday/ddserver-ui/src_admin/app-styles.css"],"names":[],"mappings":"AAAA;IACI,qBAAqB;IACrB,qBAAqB;IACrB,cAAc;IACd,0BAA0B;QACtB,uBAAuB;YACnB,+BAA+B;IACvC,0BAA0B;QACtB,uBAAuB;YACnB,oBAAoB;CAC/B","file":"app-styles.css","sourcesContent":[".snackbar{\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}"],"sourceRoot":""}]);

// exports
exports.locals = {
	"snackbar": "app-styles__snackbar--ym0OJMcG"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?{\"modules\":true,\"sourceMap\":true,\"localIdentName\":\"[name]__[local]--[hash:base64:8]\"}!./node_modules/postcss-loader/lib/index.js!./src_admin/components/expandableListItem.css":
/* no static exports found */
/* all exports used */
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./~/css-loader?{"modules":true,"sourceMap":true,"localIdentName":"[name]__[local]--[hash:base64:8]"}!./~/postcss-loader/lib!./src_admin/components/expandableListItem.css ***!
  \*********************************************************************************************************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../~/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, ".expandableListItem__expanded--3Luw9D5l{\n    /*max-height: 1000px;*/\n    transition: all 1000ms 100ms ease;\n    overflow: hidden;\n}\n.expandableListItem__closed--17_BP_0F{\n    max-height: 0px;    \n    transition: all 1000ms 100ms ease;\n    overflow: hidden;\n}", "", {"version":3,"sources":["/Volumes/WORK/doomday/ddserver-ui/src_admin/components/expandableListItem.css"],"names":[],"mappings":"AAAA;IACI,uBAAuB;IACvB,kCAAkC;IAClC,iBAAiB;CACpB;AACD;IACI,gBAAgB;IAChB,kCAAkC;IAClC,iBAAiB;CACpB","file":"expandableListItem.css","sourcesContent":[".expanded{\n    /*max-height: 1000px;*/\n    transition: all 1000ms 100ms ease;\n    overflow: hidden;\n}\n.closed{\n    max-height: 0px;    \n    transition: all 1000ms 100ms ease;\n    overflow: hidden;\n}"],"sourceRoot":""}]);

// exports
exports.locals = {
	"expanded": "expandableListItem__expanded--3Luw9D5l",
	"closed": "expandableListItem__closed--17_BP_0F"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?{\"modules\":true,\"sourceMap\":true,\"localIdentName\":\"[name]__[local]--[hash:base64:8]\"}!./node_modules/postcss-loader/lib/index.js!./src_admin/dashboard/dashboardlist-style.css":
/* no static exports found */
/* all exports used */
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./~/css-loader?{"modules":true,"sourceMap":true,"localIdentName":"[name]__[local]--[hash:base64:8]"}!./~/postcss-loader/lib!./src_admin/dashboard/dashboardlist-style.css ***!
  \*********************************************************************************************************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../~/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, ".dashboardlist-style__fab--1kiyKj_Z{\n    position: absolute;\n    bottom: 3em;\n    right: 3em;\n}", "", {"version":3,"sources":["/Volumes/WORK/doomday/ddserver-ui/src_admin/dashboard/dashboardlist-style.css"],"names":[],"mappings":"AAAA;IACI,mBAAmB;IACnB,YAAY;IACZ,WAAW;CACd","file":"dashboardlist-style.css","sourcesContent":[".fab{\n    position: absolute;\n    bottom: 3em;\n    right: 3em;\n}"],"sourceRoot":""}]);

// exports
exports.locals = {
	"fab": "dashboardlist-style__fab--1kiyKj_Z"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?{\"modules\":true,\"sourceMap\":true,\"localIdentName\":\"[name]__[local]--[hash:base64:8]\"}!./node_modules/postcss-loader/lib/index.js!./src_admin/devices/devices-style.css":
/* no static exports found */
/* all exports used */
/*!*************************************************************************************************************************************************************************!*\
  !*** ./~/css-loader?{"modules":true,"sourceMap":true,"localIdentName":"[name]__[local]--[hash:base64:8]"}!./~/postcss-loader/lib!./src_admin/devices/devices-style.css ***!
  \*************************************************************************************************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../~/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, ".devices-style__devicesPane--2c2dWXwR{\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: start;\n        -ms-flex-pack: start;\n            justify-content: flex-start;\n}\n\n.devices-style__devicesPane--2c2dWXwR>div{\n    margin: 0.5em;\n}\n\n.devices-style__device_auth_progress---Ueo30yK{\n    -webkit-transform: scale(0.8);\n            transform: scale(0.8);\n}", "", {"version":3,"sources":["/Volumes/WORK/doomday/ddserver-ui/src_admin/devices/devices-style.css"],"names":[],"mappings":"AAAA;IACI,qBAAqB;IACrB,qBAAqB;IACrB,cAAc;IACd,wBAAwB;QACpB,qBAAqB;YACjB,4BAA4B;CACvC;;AAED;IACI,cAAc;CACjB;;AAED;IACI,8BAA8B;YACtB,sBAAsB;CACjC","file":"devices-style.css","sourcesContent":[".devicesPane{\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: start;\n        -ms-flex-pack: start;\n            justify-content: flex-start;\n}\n\n.devicesPane>div{\n    margin: 0.5em;\n}\n\n.device_auth_progress{\n    -webkit-transform: scale(0.8);\n            transform: scale(0.8);\n}"],"sourceRoot":""}]);

// exports
exports.locals = {
	"devicesPane": "devices-style__devicesPane--2c2dWXwR",
	"device_auth_progress": "devices-style__device_auth_progress---Ueo30yK"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?{\"modules\":true,\"sourceMap\":true,\"localIdentName\":\"[name]__[local]--[hash:base64:8]\"}!./node_modules/postcss-loader/lib/index.js!./src_admin/devices/profile-view.css":
/* no static exports found */
/* all exports used */
/*!************************************************************************************************************************************************************************!*\
  !*** ./~/css-loader?{"modules":true,"sourceMap":true,"localIdentName":"[name]__[local]--[hash:base64:8]"}!./~/postcss-loader/lib!./src_admin/devices/profile-view.css ***!
  \************************************************************************************************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../~/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, ".profile-view__scroll--1mXWVWWz{\n    max-height: 300px;\n    overflow-y: scroll;\n}", "", {"version":3,"sources":["/Volumes/WORK/doomday/ddserver-ui/src_admin/devices/profile-view.css"],"names":[],"mappings":"AAAA;IACI,kBAAkB;IAClB,mBAAmB;CACtB","file":"profile-view.css","sourcesContent":[".scroll{\n    max-height: 300px;\n    overflow-y: scroll;\n}"],"sourceRoot":""}]);

// exports
exports.locals = {
	"scroll": "profile-view__scroll--1mXWVWWz"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?{\"modules\":true,\"sourceMap\":true,\"localIdentName\":\"[name]__[local]--[hash:base64:8]\"}!./node_modules/postcss-loader/lib/index.js!./src_admin/devices/styles.css":
/* no static exports found */
/* all exports used */
/*!******************************************************************************************************************************************************************!*\
  !*** ./~/css-loader?{"modules":true,"sourceMap":true,"localIdentName":"[name]__[local]--[hash:base64:8]"}!./~/postcss-loader/lib!./src_admin/devices/styles.css ***!
  \******************************************************************************************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../~/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, ".styles__viewCard--2vI3zeJ4{\n    position: relative;\n}\n.styles__menuIcon--3yjG8tXG{\n    position: absolute;\n    top: 1em;\n    right: 0.5em;\n}\n\n", "", {"version":3,"sources":["/Volumes/WORK/doomday/ddserver-ui/src_admin/devices/styles.css"],"names":[],"mappings":"AAAA;IACI,mBAAmB;CACtB;AACD;IACI,mBAAmB;IACnB,SAAS;IACT,aAAa;CAChB","file":"styles.css","sourcesContent":[".viewCard{\n    position: relative;\n}\n.menuIcon{\n    position: absolute;\n    top: 1em;\n    right: 0.5em;\n}\n\n"],"sourceRoot":""}]);

// exports
exports.locals = {
	"viewCard": "styles__viewCard--2vI3zeJ4",
	"menuIcon": "styles__menuIcon--3yjG8tXG"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?{\"modules\":true,\"sourceMap\":true,\"localIdentName\":\"[name]__[local]--[hash:base64:8]\"}!./node_modules/postcss-loader/lib/index.js!./src_admin/devices/theme.scss":
/* no static exports found */
/* all exports used */
/*!******************************************************************************************************************************************************************!*\
  !*** ./~/css-loader?{"modules":true,"sourceMap":true,"localIdentName":"[name]__[local]--[hash:base64:8]"}!./~/postcss-loader/lib!./src_admin/devices/theme.scss ***!
  \******************************************************************************************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../~/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, "\n.theme__avatarOnline--QNCfJcJU{\n    background-color:#00b248;\n}\n\n.theme__avatarOffline--1chQBF1B{\n    background-color: #b61827;\n}\n", "", {"version":3,"sources":["/Volumes/WORK/doomday/ddserver-ui/src_admin/devices/theme.scss"],"names":[],"mappings":";AACA;IACI,yBAAyB;CAC5B;;AAED;IACI,0BAA0B;CAC7B","file":"theme.scss","sourcesContent":["\n.avatarOnline{\n    background-color:#00b248;\n}\n\n.avatarOffline{\n    background-color: #b61827;\n}\n"],"sourceRoot":""}]);

// exports
exports.locals = {
	"avatarOnline": "theme__avatarOnline--QNCfJcJU",
	"avatarOffline": "theme__avatarOffline--1chQBF1B"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?{\"modules\":true,\"sourceMap\":true,\"localIdentName\":\"[name]__[local]--[hash:base64:8]\"}!./node_modules/postcss-loader/lib/index.js!./src_admin/devices/wizzard/wizzard-style.css":
/* no static exports found */
/* all exports used */
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./~/css-loader?{"modules":true,"sourceMap":true,"localIdentName":"[name]__[local]--[hash:base64:8]"}!./~/postcss-loader/lib!./src_admin/devices/wizzard/wizzard-style.css ***!
  \*********************************************************************************************************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../~/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, ".wizzard-style__congratulationIcon--2FvuaJ5e{\n    font-size: 8em;\n    display: block;\n    text-align: center;\n}", "", {"version":3,"sources":["/Volumes/WORK/doomday/ddserver-ui/src_admin/devices/wizzard/wizzard-style.css"],"names":[],"mappings":"AAAA;IACI,eAAe;IACf,eAAe;IACf,mBAAmB;CACtB","file":"wizzard-style.css","sourcesContent":[".congratulationIcon{\n    font-size: 8em;\n    display: block;\n    text-align: center;\n}"],"sourceRoot":""}]);

// exports
exports.locals = {
	"congratulationIcon": "wizzard-style__congratulationIcon--2FvuaJ5e"
};

/***/ }),

/***/ "./node_modules/qs/lib/formats.js":
/* no static exports found */
/* all exports used */
/*!*****************************!*\
  !*** ./~/qs/lib/formats.js ***!
  \*****************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var replace = String.prototype.replace;
var percentTwenties = /%20/g;

module.exports = {
    'default': 'RFC3986',
    formatters: {
        RFC1738: function (value) {
            return replace.call(value, percentTwenties, '+');
        },
        RFC3986: function (value) {
            return value;
        }
    },
    RFC1738: 'RFC1738',
    RFC3986: 'RFC3986'
};


/***/ }),

/***/ "./node_modules/qs/lib/index.js":
/* no static exports found */
/* all exports used */
/*!***************************!*\
  !*** ./~/qs/lib/index.js ***!
  \***************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var stringify = __webpack_require__(/*! ./stringify */ "./node_modules/qs/lib/stringify.js");
var parse = __webpack_require__(/*! ./parse */ "./node_modules/qs/lib/parse.js");
var formats = __webpack_require__(/*! ./formats */ "./node_modules/qs/lib/formats.js");

module.exports = {
    formats: formats,
    parse: parse,
    stringify: stringify
};


/***/ }),

/***/ "./node_modules/qs/lib/parse.js":
/* no static exports found */
/* all exports used */
/*!***************************!*\
  !*** ./~/qs/lib/parse.js ***!
  \***************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(/*! ./utils */ "./node_modules/qs/lib/utils.js");

var has = Object.prototype.hasOwnProperty;

var defaults = {
    allowDots: false,
    allowPrototypes: false,
    arrayLimit: 20,
    decoder: utils.decode,
    delimiter: '&',
    depth: 5,
    parameterLimit: 1000,
    plainObjects: false,
    strictNullHandling: false
};

var parseValues = function parseQueryStringValues(str, options) {
    var obj = {};
    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\?/, '') : str;
    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;
    var parts = cleanStr.split(options.delimiter, limit);

    for (var i = 0; i < parts.length; ++i) {
        var part = parts[i];

        var bracketEqualsPos = part.indexOf(']=');
        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;

        var key, val;
        if (pos === -1) {
            key = options.decoder(part, defaults.decoder);
            val = options.strictNullHandling ? null : '';
        } else {
            key = options.decoder(part.slice(0, pos), defaults.decoder);
            val = options.decoder(part.slice(pos + 1), defaults.decoder);
        }
        if (has.call(obj, key)) {
            obj[key] = [].concat(obj[key]).concat(val);
        } else {
            obj[key] = val;
        }
    }

    return obj;
};

var parseObject = function parseObjectRecursive(chain, val, options) {
    if (!chain.length) {
        return val;
    }

    var root = chain.shift();

    var obj;
    if (root === '[]') {
        obj = [];
        obj = obj.concat(parseObject(chain, val, options));
    } else {
        obj = options.plainObjects ? Object.create(null) : {};
        var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;
        var index = parseInt(cleanRoot, 10);
        if (
            !isNaN(index)
            && root !== cleanRoot
            && String(index) === cleanRoot
            && index >= 0
            && (options.parseArrays && index <= options.arrayLimit)
        ) {
            obj = [];
            obj[index] = parseObject(chain, val, options);
        } else {
            obj[cleanRoot] = parseObject(chain, val, options);
        }
    }

    return obj;
};

var parseKeys = function parseQueryStringKeys(givenKey, val, options) {
    if (!givenKey) {
        return;
    }

    // Transform dot notation to bracket notation
    var key = options.allowDots ? givenKey.replace(/\.([^.[]+)/g, '[$1]') : givenKey;

    // The regex chunks

    var brackets = /(\[[^[\]]*])/;
    var child = /(\[[^[\]]*])/g;

    // Get the parent

    var segment = brackets.exec(key);
    var parent = segment ? key.slice(0, segment.index) : key;

    // Stash the parent if it exists

    var keys = [];
    if (parent) {
        // If we aren't using plain objects, optionally prefix keys
        // that would overwrite object prototype properties
        if (!options.plainObjects && has.call(Object.prototype, parent)) {
            if (!options.allowPrototypes) {
                return;
            }
        }

        keys.push(parent);
    }

    // Loop through children appending to the array until we hit depth

    var i = 0;
    while ((segment = child.exec(key)) !== null && i < options.depth) {
        i += 1;
        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {
            if (!options.allowPrototypes) {
                return;
            }
        }
        keys.push(segment[1]);
    }

    // If there's a remainder, just add whatever is left

    if (segment) {
        keys.push('[' + key.slice(segment.index) + ']');
    }

    return parseObject(keys, val, options);
};

module.exports = function (str, opts) {
    var options = opts ? utils.assign({}, opts) : {};

    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {
        throw new TypeError('Decoder has to be a function.');
    }

    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;
    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;
    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;
    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;
    options.parseArrays = options.parseArrays !== false;
    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;
    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;
    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;
    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;
    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;
    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;

    if (str === '' || str === null || typeof str === 'undefined') {
        return options.plainObjects ? Object.create(null) : {};
    }

    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;
    var obj = options.plainObjects ? Object.create(null) : {};

    // Iterate over the keys and setup the new object

    var keys = Object.keys(tempObj);
    for (var i = 0; i < keys.length; ++i) {
        var key = keys[i];
        var newObj = parseKeys(key, tempObj[key], options);
        obj = utils.merge(obj, newObj, options);
    }

    return utils.compact(obj);
};


/***/ }),

/***/ "./node_modules/qs/lib/stringify.js":
/* no static exports found */
/* all exports used */
/*!*******************************!*\
  !*** ./~/qs/lib/stringify.js ***!
  \*******************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(/*! ./utils */ "./node_modules/qs/lib/utils.js");
var formats = __webpack_require__(/*! ./formats */ "./node_modules/qs/lib/formats.js");

var arrayPrefixGenerators = {
    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching
        return prefix + '[]';
    },
    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching
        return prefix + '[' + key + ']';
    },
    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching
        return prefix;
    }
};

var toISO = Date.prototype.toISOString;

var defaults = {
    delimiter: '&',
    encode: true,
    encoder: utils.encode,
    encodeValuesOnly: false,
    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching
        return toISO.call(date);
    },
    skipNulls: false,
    strictNullHandling: false
};

var stringify = function stringify( // eslint-disable-line func-name-matching
    object,
    prefix,
    generateArrayPrefix,
    strictNullHandling,
    skipNulls,
    encoder,
    filter,
    sort,
    allowDots,
    serializeDate,
    formatter,
    encodeValuesOnly
) {
    var obj = object;
    if (typeof filter === 'function') {
        obj = filter(prefix, obj);
    } else if (obj instanceof Date) {
        obj = serializeDate(obj);
    } else if (obj === null) {
        if (strictNullHandling) {
            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;
        }

        obj = '';
    }

    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {
        if (encoder) {
            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);
            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];
        }
        return [formatter(prefix) + '=' + formatter(String(obj))];
    }

    var values = [];

    if (typeof obj === 'undefined') {
        return values;
    }

    var objKeys;
    if (Array.isArray(filter)) {
        objKeys = filter;
    } else {
        var keys = Object.keys(obj);
        objKeys = sort ? keys.sort(sort) : keys;
    }

    for (var i = 0; i < objKeys.length; ++i) {
        var key = objKeys[i];

        if (skipNulls && obj[key] === null) {
            continue;
        }

        if (Array.isArray(obj)) {
            values = values.concat(stringify(
                obj[key],
                generateArrayPrefix(prefix, key),
                generateArrayPrefix,
                strictNullHandling,
                skipNulls,
                encoder,
                filter,
                sort,
                allowDots,
                serializeDate,
                formatter,
                encodeValuesOnly
            ));
        } else {
            values = values.concat(stringify(
                obj[key],
                prefix + (allowDots ? '.' + key : '[' + key + ']'),
                generateArrayPrefix,
                strictNullHandling,
                skipNulls,
                encoder,
                filter,
                sort,
                allowDots,
                serializeDate,
                formatter,
                encodeValuesOnly
            ));
        }
    }

    return values;
};

module.exports = function (object, opts) {
    var obj = object;
    var options = opts ? utils.assign({}, opts) : {};

    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {
        throw new TypeError('Encoder has to be a function.');
    }

    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;
    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;
    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;
    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;
    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;
    var sort = typeof options.sort === 'function' ? options.sort : null;
    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;
    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;
    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;
    if (typeof options.format === 'undefined') {
        options.format = formats.default;
    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {
        throw new TypeError('Unknown format option provided.');
    }
    var formatter = formats.formatters[options.format];
    var objKeys;
    var filter;

    if (typeof options.filter === 'function') {
        filter = options.filter;
        obj = filter('', obj);
    } else if (Array.isArray(options.filter)) {
        filter = options.filter;
        objKeys = filter;
    }

    var keys = [];

    if (typeof obj !== 'object' || obj === null) {
        return '';
    }

    var arrayFormat;
    if (options.arrayFormat in arrayPrefixGenerators) {
        arrayFormat = options.arrayFormat;
    } else if ('indices' in options) {
        arrayFormat = options.indices ? 'indices' : 'repeat';
    } else {
        arrayFormat = 'indices';
    }

    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];

    if (!objKeys) {
        objKeys = Object.keys(obj);
    }

    if (sort) {
        objKeys.sort(sort);
    }

    for (var i = 0; i < objKeys.length; ++i) {
        var key = objKeys[i];

        if (skipNulls && obj[key] === null) {
            continue;
        }

        keys = keys.concat(stringify(
            obj[key],
            key,
            generateArrayPrefix,
            strictNullHandling,
            skipNulls,
            encode ? encoder : null,
            filter,
            sort,
            allowDots,
            serializeDate,
            formatter,
            encodeValuesOnly
        ));
    }

    var joined = keys.join(delimiter);
    var prefix = options.addQueryPrefix === true ? '?' : '';

    return joined.length > 0 ? prefix + joined : '';
};


/***/ }),

/***/ "./node_modules/qs/lib/utils.js":
/* no static exports found */
/* all exports used */
/*!***************************!*\
  !*** ./~/qs/lib/utils.js ***!
  \***************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var has = Object.prototype.hasOwnProperty;

var hexTable = (function () {
    var array = [];
    for (var i = 0; i < 256; ++i) {
        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());
    }

    return array;
}());

exports.arrayToObject = function (source, options) {
    var obj = options && options.plainObjects ? Object.create(null) : {};
    for (var i = 0; i < source.length; ++i) {
        if (typeof source[i] !== 'undefined') {
            obj[i] = source[i];
        }
    }

    return obj;
};

exports.merge = function (target, source, options) {
    if (!source) {
        return target;
    }

    if (typeof source !== 'object') {
        if (Array.isArray(target)) {
            target.push(source);
        } else if (typeof target === 'object') {
            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {
                target[source] = true;
            }
        } else {
            return [target, source];
        }

        return target;
    }

    if (typeof target !== 'object') {
        return [target].concat(source);
    }

    var mergeTarget = target;
    if (Array.isArray(target) && !Array.isArray(source)) {
        mergeTarget = exports.arrayToObject(target, options);
    }

    if (Array.isArray(target) && Array.isArray(source)) {
        source.forEach(function (item, i) {
            if (has.call(target, i)) {
                if (target[i] && typeof target[i] === 'object') {
                    target[i] = exports.merge(target[i], item, options);
                } else {
                    target.push(item);
                }
            } else {
                target[i] = item;
            }
        });
        return target;
    }

    return Object.keys(source).reduce(function (acc, key) {
        var value = source[key];

        if (has.call(acc, key)) {
            acc[key] = exports.merge(acc[key], value, options);
        } else {
            acc[key] = value;
        }
        return acc;
    }, mergeTarget);
};

exports.assign = function assignSingleSource(target, source) {
    return Object.keys(source).reduce(function (acc, key) {
        acc[key] = source[key];
        return acc;
    }, target);
};

exports.decode = function (str) {
    try {
        return decodeURIComponent(str.replace(/\+/g, ' '));
    } catch (e) {
        return str;
    }
};

exports.encode = function (str) {
    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.
    // It has been adapted here for stricter adherence to RFC 3986
    if (str.length === 0) {
        return str;
    }

    var string = typeof str === 'string' ? str : String(str);

    var out = '';
    for (var i = 0; i < string.length; ++i) {
        var c = string.charCodeAt(i);

        if (
            c === 0x2D    // -
            || c === 0x2E // .
            || c === 0x5F // _
            || c === 0x7E // ~
            || (c >= 0x30 && c <= 0x39) // 0-9
            || (c >= 0x41 && c <= 0x5A) // a-z
            || (c >= 0x61 && c <= 0x7A) // A-Z
        ) {
            out += string.charAt(i);
            continue;
        }

        if (c < 0x80) {
            out = out + hexTable[c];
            continue;
        }

        if (c < 0x800) {
            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);
            continue;
        }

        if (c < 0xD800 || c >= 0xE000) {
            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);
            continue;
        }

        i += 1;
        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));
        out += hexTable[0xF0 | (c >> 18)]
            + hexTable[0x80 | ((c >> 12) & 0x3F)]
            + hexTable[0x80 | ((c >> 6) & 0x3F)]
            + hexTable[0x80 | (c & 0x3F)];
    }

    return out;
};

exports.compact = function (obj, references) {
    if (typeof obj !== 'object' || obj === null) {
        return obj;
    }

    var refs = references || [];
    var lookup = refs.indexOf(obj);
    if (lookup !== -1) {
        return refs[lookup];
    }

    refs.push(obj);

    if (Array.isArray(obj)) {
        var compacted = [];

        for (var i = 0; i < obj.length; ++i) {
            if (obj[i] && typeof obj[i] === 'object') {
                compacted.push(exports.compact(obj[i], refs));
            } else if (typeof obj[i] !== 'undefined') {
                compacted.push(obj[i]);
            }
        }

        return compacted;
    }

    var keys = Object.keys(obj);
    keys.forEach(function (key) {
        obj[key] = exports.compact(obj[key], refs);
    });

    return obj;
};

exports.isRegExp = function (obj) {
    return Object.prototype.toString.call(obj) === '[object RegExp]';
};

exports.isBuffer = function (obj) {
    if (obj === null || typeof obj === 'undefined') {
        return false;
    }

    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));
};


/***/ }),

/***/ "./node_modules/requires-port/index.js":
/* no static exports found */
/* all exports used */
/*!**********************************!*\
  !*** ./~/requires-port/index.js ***!
  \**********************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Check if we're required to add a port number.
 *
 * @see https://url.spec.whatwg.org/#default-port
 * @param {Number|String} port Port number we need to check
 * @param {String} protocol Protocol we need to check against.
 * @returns {Boolean} Is it a default port for the given protocol
 * @api private
 */
module.exports = function required(port, protocol) {
  protocol = protocol.split(':')[0];
  port = +port;

  if (!port) return false;

  switch (protocol) {
    case 'http':
    case 'ws':
    return port !== 80;

    case 'https':
    case 'wss':
    return port !== 443;

    case 'ftp':
    return port !== 21;

    case 'gopher':
    return port !== 70;

    case 'file':
    return false;
  }

  return port !== 0;
};


/***/ }),

/***/ "./node_modules/url-parse/index.js":
/* no static exports found */
/* all exports used */
/*!******************************!*\
  !*** ./~/url-parse/index.js ***!
  \******************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

var required = __webpack_require__(/*! requires-port */ "./node_modules/requires-port/index.js")
  , qs = __webpack_require__(/*! querystringify */ "./node_modules/url-parse/node_modules/querystringify/index.js")
  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i
  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\/\//;

/**
 * These are the parse rules for the URL parser, it informs the parser
 * about:
 *
 * 0. The char it Needs to parse, if it's a string it should be done using
 *    indexOf, RegExp using exec and NaN means set as current value.
 * 1. The property we should set when parsing this value.
 * 2. Indication if it's backwards or forward parsing, when set as number it's
 *    the value of extra chars that should be split off.
 * 3. Inherit from location if non existing in the parser.
 * 4. `toLowerCase` the resulting value.
 */
var rules = [
  ['#', 'hash'],                        // Extract from the back.
  ['?', 'query'],                       // Extract from the back.
  ['/', 'pathname'],                    // Extract from the back.
  ['@', 'auth', 1],                     // Extract from the front.
  [NaN, 'host', undefined, 1, 1],       // Set left over value.
  [/:(\d+)$/, 'port', undefined, 1],    // RegExp the back.
  [NaN, 'hostname', undefined, 1, 1]    // Set left over.
];

/**
 * These properties should not be copied or inherited from. This is only needed
 * for all non blob URL's as a blob URL does not include a hash, only the
 * origin.
 *
 * @type {Object}
 * @private
 */
var ignore = { hash: 1, query: 1 };

/**
 * The location object differs when your code is loaded through a normal page,
 * Worker or through a worker using a blob. And with the blobble begins the
 * trouble as the location object will contain the URL of the blob, not the
 * location of the page where our code is loaded in. The actual origin is
 * encoded in the `pathname` so we can thankfully generate a good "default"
 * location from it so we can generate proper relative URL's again.
 *
 * @param {Object|String} loc Optional default location object.
 * @returns {Object} lolcation object.
 * @api public
 */
function lolcation(loc) {
  loc = loc || global.location || {};

  var finaldestination = {}
    , type = typeof loc
    , key;

  if ('blob:' === loc.protocol) {
    finaldestination = new URL(unescape(loc.pathname), {});
  } else if ('string' === type) {
    finaldestination = new URL(loc, {});
    for (key in ignore) delete finaldestination[key];
  } else if ('object' === type) {
    for (key in loc) {
      if (key in ignore) continue;
      finaldestination[key] = loc[key];
    }

    if (finaldestination.slashes === undefined) {
      finaldestination.slashes = slashes.test(loc.href);
    }
  }

  return finaldestination;
}

/**
 * @typedef ProtocolExtract
 * @type Object
 * @property {String} protocol Protocol matched in the URL, in lowercase.
 * @property {Boolean} slashes `true` if protocol is followed by "//", else `false`.
 * @property {String} rest Rest of the URL that is not part of the protocol.
 */

/**
 * Extract protocol information from a URL with/without double slash ("//").
 *
 * @param {String} address URL we want to extract from.
 * @return {ProtocolExtract} Extracted information.
 * @api private
 */
function extractProtocol(address) {
  var match = protocolre.exec(address);

  return {
    protocol: match[1] ? match[1].toLowerCase() : '',
    slashes: !!match[2],
    rest: match[3]
  };
}

/**
 * Resolve a relative URL pathname against a base URL pathname.
 *
 * @param {String} relative Pathname of the relative URL.
 * @param {String} base Pathname of the base URL.
 * @return {String} Resolved pathname.
 * @api private
 */
function resolve(relative, base) {
  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))
    , i = path.length
    , last = path[i - 1]
    , unshift = false
    , up = 0;

  while (i--) {
    if (path[i] === '.') {
      path.splice(i, 1);
    } else if (path[i] === '..') {
      path.splice(i, 1);
      up++;
    } else if (up) {
      if (i === 0) unshift = true;
      path.splice(i, 1);
      up--;
    }
  }

  if (unshift) path.unshift('');
  if (last === '.' || last === '..') path.push('');

  return path.join('/');
}

/**
 * The actual URL instance. Instead of returning an object we've opted-in to
 * create an actual constructor as it's much more memory efficient and
 * faster and it pleases my OCD.
 *
 * @constructor
 * @param {String} address URL we want to parse.
 * @param {Object|String} location Location defaults for relative paths.
 * @param {Boolean|Function} parser Parser for the query string.
 * @api public
 */
function URL(address, location, parser) {
  if (!(this instanceof URL)) {
    return new URL(address, location, parser);
  }

  var relative, extracted, parse, instruction, index, key
    , instructions = rules.slice()
    , type = typeof location
    , url = this
    , i = 0;

  //
  // The following if statements allows this module two have compatibility with
  // 2 different API:
  //
  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments
  //    where the boolean indicates that the query string should also be parsed.
  //
  // 2. The `URL` interface of the browser which accepts a URL, object as
  //    arguments. The supplied object will be used as default values / fall-back
  //    for relative paths.
  //
  if ('object' !== type && 'string' !== type) {
    parser = location;
    location = null;
  }

  if (parser && 'function' !== typeof parser) parser = qs.parse;

  location = lolcation(location);

  //
  // Extract protocol information before running the instructions.
  //
  extracted = extractProtocol(address || '');
  relative = !extracted.protocol && !extracted.slashes;
  url.slashes = extracted.slashes || relative && location.slashes;
  url.protocol = extracted.protocol || location.protocol || '';
  address = extracted.rest;

  //
  // When the authority component is absent the URL starts with a path
  // component.
  //
  if (!extracted.slashes) instructions[2] = [/(.*)/, 'pathname'];

  for (; i < instructions.length; i++) {
    instruction = instructions[i];
    parse = instruction[0];
    key = instruction[1];

    if (parse !== parse) {
      url[key] = address;
    } else if ('string' === typeof parse) {
      if (~(index = address.indexOf(parse))) {
        if ('number' === typeof instruction[2]) {
          url[key] = address.slice(0, index);
          address = address.slice(index + instruction[2]);
        } else {
          url[key] = address.slice(index);
          address = address.slice(0, index);
        }
      }
    } else if ((index = parse.exec(address))) {
      url[key] = index[1];
      address = address.slice(0, index.index);
    }

    url[key] = url[key] || (
      relative && instruction[3] ? location[key] || '' : ''
    );

    //
    // Hostname, host and protocol should be lowercased so they can be used to
    // create a proper `origin`.
    //
    if (instruction[4]) url[key] = url[key].toLowerCase();
  }

  //
  // Also parse the supplied query string in to an object. If we're supplied
  // with a custom parser as function use that instead of the default build-in
  // parser.
  //
  if (parser) url.query = parser(url.query);

  //
  // If the URL is relative, resolve the pathname against the base URL.
  //
  if (
      relative
    && location.slashes
    && url.pathname.charAt(0) !== '/'
    && (url.pathname !== '' || location.pathname !== '')
  ) {
    url.pathname = resolve(url.pathname, location.pathname);
  }

  //
  // We should not add port numbers if they are already the default port number
  // for a given protocol. As the host also contains the port number we're going
  // override it with the hostname which contains no port number.
  //
  if (!required(url.port, url.protocol)) {
    url.host = url.hostname;
    url.port = '';
  }

  //
  // Parse down the `auth` for the username and password.
  //
  url.username = url.password = '';
  if (url.auth) {
    instruction = url.auth.split(':');
    url.username = instruction[0] || '';
    url.password = instruction[1] || '';
  }

  url.origin = url.protocol && url.host && url.protocol !== 'file:'
    ? url.protocol +'//'+ url.host
    : 'null';

  //
  // The href is just the compiled result.
  //
  url.href = url.toString();
}

/**
 * This is convenience method for changing properties in the URL instance to
 * insure that they all propagate correctly.
 *
 * @param {String} part          Property we need to adjust.
 * @param {Mixed} value          The newly assigned value.
 * @param {Boolean|Function} fn  When setting the query, it will be the function
 *                               used to parse the query.
 *                               When setting the protocol, double slash will be
 *                               removed from the final url if it is true.
 * @returns {URL}
 * @api public
 */
function set(part, value, fn) {
  var url = this;

  switch (part) {
    case 'query':
      if ('string' === typeof value && value.length) {
        value = (fn || qs.parse)(value);
      }

      url[part] = value;
      break;

    case 'port':
      url[part] = value;

      if (!required(value, url.protocol)) {
        url.host = url.hostname;
        url[part] = '';
      } else if (value) {
        url.host = url.hostname +':'+ value;
      }

      break;

    case 'hostname':
      url[part] = value;

      if (url.port) value += ':'+ url.port;
      url.host = value;
      break;

    case 'host':
      url[part] = value;

      if (/:\d+$/.test(value)) {
        value = value.split(':');
        url.port = value.pop();
        url.hostname = value.join(':');
      } else {
        url.hostname = value;
        url.port = '';
      }

      break;

    case 'protocol':
      url.protocol = value.toLowerCase();
      url.slashes = !fn;
      break;

    case 'pathname':
      url.pathname = value.length && value.charAt(0) !== '/' ? '/' + value : value;

      break;

    default:
      url[part] = value;
  }

  for (var i = 0; i < rules.length; i++) {
    var ins = rules[i];

    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();
  }

  url.origin = url.protocol && url.host && url.protocol !== 'file:'
    ? url.protocol +'//'+ url.host
    : 'null';

  url.href = url.toString();

  return url;
}

/**
 * Transform the properties back in to a valid and full URL string.
 *
 * @param {Function} stringify Optional query stringify function.
 * @returns {String}
 * @api public
 */
function toString(stringify) {
  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;

  var query
    , url = this
    , protocol = url.protocol;

  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';

  var result = protocol + (url.slashes ? '//' : '');

  if (url.username) {
    result += url.username;
    if (url.password) result += ':'+ url.password;
    result += '@';
  }

  result += url.host + url.pathname;

  query = 'object' === typeof url.query ? stringify(url.query) : url.query;
  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;

  if (url.hash) result += url.hash;

  return result;
}

URL.prototype = { set: set, toString: toString };

//
// Expose the URL parser and some additional properties that might be useful for
// others or testing.
//
URL.extractProtocol = extractProtocol;
URL.location = lolcation;
URL.qs = qs;

module.exports = URL;

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/url-parse/node_modules/querystringify/index.js":
/* no static exports found */
/* all exports used */
/*!***********************************************!*\
  !*** ./~/url-parse/~/querystringify/index.js ***!
  \***********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var has = Object.prototype.hasOwnProperty;

/**
 * Decode a URI encoded string.
 *
 * @param {String} input The URI encoded string.
 * @returns {String} The decoded string.
 * @api private
 */
function decode(input) {
  return decodeURIComponent(input.replace(/\+/g, ' '));
}

/**
 * Simple query string parser.
 *
 * @param {String} query The query string that needs to be parsed.
 * @returns {Object}
 * @api public
 */
function querystring(query) {
  var parser = /([^=?&]+)=?([^&]*)/g
    , result = {}
    , part;

  //
  // Little nifty parsing hack, leverage the fact that RegExp.exec increments
  // the lastIndex property so we can continue executing this loop until we've
  // parsed all results.
  //
  for (;
    part = parser.exec(query);
    result[decode(part[1])] = decode(part[2])
  );

  return result;
}

/**
 * Transform a query string to an object.
 *
 * @param {Object} obj Object that should be transformed.
 * @param {String} prefix Optional prefix.
 * @returns {String}
 * @api public
 */
function querystringify(obj, prefix) {
  prefix = prefix || '';

  var pairs = [];

  //
  // Optionally prefix with a '?' if needed
  //
  if ('string' !== typeof prefix) prefix = '?';

  for (var key in obj) {
    if (has.call(obj, key)) {
      pairs.push(encodeURIComponent(key) +'='+ encodeURIComponent(obj[key]));
    }
  }

  return pairs.length ? prefix + pairs.join('&') : '';
}

//
// Expose the module.
//
exports.stringify = querystringify;
exports.parse = querystring;


/***/ }),

/***/ "./src_admin/api.js":
/* no static exports found */
/* all exports used */
/*!**************************!*\
  !*** ./src_admin/api.js ***!
  \**************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _eventbus = __webpack_require__(/*! eventbus */ "./lib/eventbus/index.js");

var _eventbus2 = _interopRequireDefault(_eventbus);

var _popsicle = __webpack_require__(/*! popsicle */ "./node_modules/popsicle/dist/common.js");

var _popsicle2 = _interopRequireDefault(_popsicle);

var _dialog = __webpack_require__(/*! react-toolbox/lib/dialog */ "./node_modules/react-toolbox/lib/dialog/index.js");

var _dialog2 = _interopRequireDefault(_dialog);

var _apiCommon = __webpack_require__(/*! ./api/api-common */ "./src_admin/api/api-common.js");

var _apiCommon2 = _interopRequireDefault(_apiCommon);

var _apiUsers = __webpack_require__(/*! ./api/api-users */ "./src_admin/api/api-users.js");

var _apiUsers2 = _interopRequireDefault(_apiUsers);

var _api = __webpack_require__(/*! ./api/ */ "./src_admin/api/index.js");

var _api2 = _interopRequireDefault(_api);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var w = new WebSocket(_apiCommon2.default.wsAddr('/event.ws'));

w.onmessage = function (msg) {

    var msgObject = JSON.parse(msg.data);

    _eventbus2.default.emit(msgObject.key, msgObject.payload);
};
w.onclose = function () {
    _api2.default.common.makeError({ title: '! -    :(', text: 'Lost connection with server. Try reload page' });
};

function getWidgetClasses(profile) {
    return new Promise(function (resolve, reject) {
        (0, _popsicle.request)({
            method: 'GET',
            url: '/widgetclasses.json?profile=' + profile
        }).then(function (e) {
            return JSON.parse(e.body);
        }).then(resolve);
    });
}

function loadWidgetSource(widgetClass) {
    return Promise.all((0, _popsicle.request)({
        method: 'GET',
        url: '/ext/' + widgetClass + '/widget.js'
    }).then(function (e) {
        return e.body;
    }));
}

function appendWidget(dashboards, config) {
    console.log(config, dashboards);
    var formData = (0, _popsicle.form)({
        'dashboards': dashboards,
        'widget': JSON.stringify(config)
    });
    return (0, _popsicle.post)({
        url: addr('/widgets/add'),
        body: formData
    });

    // return new Promise((resolve)=>{
    //     setTimeout(resolve,2000);
    // });
}

var api = {
    /*
    getDevices:getDevices,
    authorizeDevice:authorizeDevice,
    forgetDevice:forgetDevice,  
    updateDevice:authorizeDevice,
    */
    showError: _api2.default.common.makeError,

    getWidgetClasses: getWidgetClasses,
    loadWidgetSource: loadWidgetSource,
    appendWidget: appendWidget,

    // getDashboards:getDashboards,
    // saveDashboard:saveDashboard,
    // removeDashboard:removeDashboard,
    dashboards: _api2.default.dashboards,

    getUsers: _apiUsers2.default.getUsers,
    saveUser: _apiUsers2.default.saveUser,
    removeUser: _apiUsers2.default.removeUser,
    users: _apiUsers2.default,

    getGroups: _api2.default.groups.getGroups,
    saveGroup: _api2.default.groups.saveGroup,
    groups: _api2.default.groups

};

exports.default = api;

/***/ }),

/***/ "./src_admin/api/api-common.js":
/* no static exports found */
/* all exports used */
/*!*************************************!*\
  !*** ./src_admin/api/api-common.js ***!
  \*************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.request = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.addr = addr;
exports.wsAddr = wsAddr;
exports.jsonRequest = jsonRequest;

var _popsicle = __webpack_require__(/*! popsicle */ "./node_modules/popsicle/dist/common.js");

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

var _qs = __webpack_require__(/*! qs */ "./node_modules/qs/lib/index.js");

var _qs2 = _interopRequireDefault(_qs);

var _urlParse = __webpack_require__(/*! url-parse */ "./node_modules/url-parse/index.js");

var _urlParse2 = _interopRequireDefault(_urlParse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var configuration = _qs2.default.parse(document.currentScript.src.split('?')[1]);

console.log(configuration.api);
console.log(configuration.secure);

var ErrorDialog = function (_React$Component) {
    _inherits(ErrorDialog, _React$Component);

    function ErrorDialog() {
        _classCallCheck(this, ErrorDialog);

        var _this = _possibleConstructorReturn(this, (ErrorDialog.__proto__ || Object.getPrototypeOf(ErrorDialog)).call(this));

        _this.state = {
            timeout: 20
        };
        setInterval(function () {
            var timeout = _this.state.timeout - 1;
            if (timeout == 0) {
                _this.handleReloadClick();
            } else {
                _this.setState({ timeout: timeout });
            }
        }, 1000, 1000);
        return _this;
    }

    _createClass(ErrorDialog, [{
        key: 'handleReloadClick',
        value: function handleReloadClick() {
            window.location.reload();
        }
    }, {
        key: 'render',
        value: function render() {
            var _this2 = this;

            return _react2.default.createElement(
                _reactToolbox.Dialog,
                {
                    active: true,
                    title: this.props.error.title,
                    actions: [{ icon: 'refresh', label: 'Reload page (' + this.state.timeout + ')', onClick: function onClick() {
                            return _this2.handleReloadClick();
                        } }] },
                _react2.default.createElement(
                    'span',
                    null,
                    this.props.error.text
                )
            );
        }
    }]);

    return ErrorDialog;
}(_react2.default.Component);

function makeError(error) {
    _reactDom2.default.render(_react2.default.createElement(ErrorDialog, { error: error }), document.getElementById('error'));
}

//export var host = 'localhost';
// var host = config.serverHost;
function isHttp() {
    return configuration.secure ? 'http' : 'https';
}
function isWs() {
    return configuration.secure ? 'ws' : 'wss';
}

function addr(e) {
    return isHttp() + '://' + configuration.api + '/' + e;
    // return `${config.baseHttp}/admin/${e}`;
    //return `http://${host}:8080/dds/admin/${e}`;
}

function wsAddr(e) {
    return isWs() + '://' + configuration.api + e;
}

function $request(options) {
    return (0, _popsicle.request)(options).then(null, function (e) {
        console.log(e);
        makeError({ title: '! -    :(', text: e.body });
    });
}

function jsonRequest(options) {
    return (0, _popsicle.request)(options).then(function (e) {
        return JSON.parse(e.body);
    }, function (e) {
        console.log(e);
        makeError({ title: '! -    :(', text: e.body });
    });
}
exports.request = _popsicle.request;
exports.default = {
    // host:host,
    addr: addr,
    wsAddr: wsAddr,
    request: $request,
    jsonRequest: jsonRequest,
    makeError: makeError
};

/***/ }),

/***/ "./src_admin/api/api-dashboards.js":
/* no static exports found */
/* all exports used */
/*!*****************************************!*\
  !*** ./src_admin/api/api-dashboards.js ***!
  \*****************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _apiCommon = __webpack_require__(/*! ./api-common */ "./src_admin/api/api-common.js");

function getDashboards() {

    return (0, _apiCommon.jsonRequest)({
        method: 'GET',
        url: (0, _apiCommon.addr)('dashboard/list')
    });
}

function saveDashboard(dashboard) {
    return (0, _apiCommon.jsonRequest)({
        method: 'POST',
        url: (0, _apiCommon.addr)('dashboard/save'),
        body: dashboard
    });
}

function removeDashboard(d) {
    return (0, _apiCommon.jsonRequest)({
        method: 'POST',
        url: (0, _apiCommon.addr)('dashboard/remove'),
        body: {
            _id: d._id
        }
    });
}

exports.default = {
    list: getDashboards,
    save: saveDashboard,
    remove: removeDashboard
};

/***/ }),

/***/ "./src_admin/api/api-devices.js":
/* no static exports found */
/* all exports used */
/*!**************************************!*\
  !*** ./src_admin/api/api-devices.js ***!
  \**************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _apiCommon = __webpack_require__(/*! ./api-common */ "./src_admin/api/api-common.js");

function listDevices() {
    return (0, _apiCommon.jsonRequest)({
        method: 'GET',
        url: (0, _apiCommon.addr)('/devices')
    });
}

function updateDevice(device) {
    return (0, _apiCommon.jsonRequest)({
        method: 'POST',
        url: (0, _apiCommon.addr)('/devices'),
        body: device
    });
}
function removeDevice(device) {
    return (0, _apiCommon.jsonRequest)({
        method: 'DELETE',
        url: (0, _apiCommon.addr)('/devices/' + device.id)
    });
}
exports.default = {
    list: listDevices,
    save: updateDevice,
    remove: removeDevice
};

/***/ }),

/***/ "./src_admin/api/api-groups.js":
/* no static exports found */
/* all exports used */
/*!*************************************!*\
  !*** ./src_admin/api/api-groups.js ***!
  \*************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.getGroups = getGroups;
exports.saveGroup = saveGroup;
exports.removeGroup = removeGroup;

var _apiCommon = __webpack_require__(/*! ./api-common */ "./src_admin/api/api-common.js");

function getGroups() {
    return (0, _apiCommon.request)({
        method: 'GET',
        url: (0, _apiCommon.addr)('group/list')
    }).then(function (e) {
        return JSON.parse(e.body);
    });
}
function saveGroup(group) {
    return (0, _apiCommon.request)({
        method: 'POST',
        url: (0, _apiCommon.addr)('group/save'),
        body: group
    }).then(function (e) {
        return JSON.parse(e.body);
    });
}
function removeGroup(group) {
    return (0, _apiCommon.request)({
        method: 'POST',
        url: (0, _apiCommon.addr)('group/remove'),
        body: { _id: group._id }
    });
}

exports.default = {
    getGroups: getGroups,
    saveGroup: saveGroup,
    removeGroup: removeGroup
};

/***/ }),

/***/ "./src_admin/api/api-users.js":
/* no static exports found */
/* all exports used */
/*!************************************!*\
  !*** ./src_admin/api/api-users.js ***!
  \************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _apiCommon = __webpack_require__(/*! ./api-common */ "./src_admin/api/api-common.js");

function getUsers() {
    return (0, _apiCommon.request)({
        method: 'GET',
        url: (0, _apiCommon.addr)('users/list')
    }).then(function (e) {
        return JSON.parse(e.body);
    });
}

function saveUser(user) {
    console.log('Save user', user);
    return (0, _apiCommon.request)({
        method: 'POST',
        url: (0, _apiCommon.addr)('users/save'),
        body: user
    }).then(function (e) {
        return JSON.parse(e.body);
    });
}

function removeUser(user) {
    return (0, _apiCommon.request)({
        method: 'POST',
        url: (0, _apiCommon.addr)('users/remove'),
        body: {
            _id: user._id
        }
    });
}

exports.default = {
    getUsers: getUsers,
    saveUser: saveUser,
    removeUser: removeUser
};

/***/ }),

/***/ "./src_admin/api/api-widgets.js":
/* no static exports found */
/* all exports used */
/*!**************************************!*\
  !*** ./src_admin/api/api-widgets.js ***!
  \**************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _apiCommon = __webpack_require__(/*! ./api-common */ "./src_admin/api/api-common.js");

function list() {
    return (0, _apiCommon.jsonRequest)({
        method: 'GET',
        url: (0, _apiCommon.addr)('widgets/')
    });
}
function save(widget) {
    return (0, _apiCommon.jsonRequest)({
        method: 'POST',
        url: (0, _apiCommon.addr)('widgets/'),
        body: widget
    });
}

function remove(widget) {
    return (0, _apiCommon.jsonRequest)({
        method: 'DELETE',
        url: (0, _apiCommon.addr)('widgets/'),
        query: {
            id: widget._id
        }
    });
}

exports.default = {
    list: list,
    save: save,
    remove: remove
};

/***/ }),

/***/ "./src_admin/api/index.js":
/* no static exports found */
/* all exports used */
/*!********************************!*\
  !*** ./src_admin/api/index.js ***!
  \********************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _apiCommon = __webpack_require__(/*! ./api-common */ "./src_admin/api/api-common.js");

var _apiCommon2 = _interopRequireDefault(_apiCommon);

var _apiUsers = __webpack_require__(/*! ./api-users */ "./src_admin/api/api-users.js");

var _apiUsers2 = _interopRequireDefault(_apiUsers);

var _apiGroups = __webpack_require__(/*! ./api-groups */ "./src_admin/api/api-groups.js");

var _apiGroups2 = _interopRequireDefault(_apiGroups);

var _apiWidgets = __webpack_require__(/*! ./api-widgets */ "./src_admin/api/api-widgets.js");

var _apiWidgets2 = _interopRequireDefault(_apiWidgets);

var _apiDashboards = __webpack_require__(/*! ./api-dashboards */ "./src_admin/api/api-dashboards.js");

var _apiDashboards2 = _interopRequireDefault(_apiDashboards);

var _apiDevices = __webpack_require__(/*! ./api-devices */ "./src_admin/api/api-devices.js");

var _apiDevices2 = _interopRequireDefault(_apiDevices);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
    common: _apiCommon2.default,
    users: _apiUsers2.default,
    groups: _apiGroups2.default,
    widgets: _apiWidgets2.default,
    dashboards: _apiDashboards2.default,
    devices: _apiDevices2.default
};

/***/ }),

/***/ "./src_admin/app-styles.css":
/* no static exports found */
/* all exports used */
/*!**********************************!*\
  !*** ./src_admin/app-styles.css ***!
  \**********************************/
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !../~/css-loader??ref--2-1!../~/postcss-loader/lib!./app-styles.css */ "./node_modules/css-loader/index.js?{\"modules\":true,\"sourceMap\":true,\"localIdentName\":\"[name]__[local]--[hash:base64:8]\"}!./node_modules/postcss-loader/lib/index.js!./src_admin/app-styles.css");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(/*! ../~/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("!!../node_modules/css-loader/index.js??ref--2-1!../node_modules/postcss-loader/lib/index.js!./app-styles.css", function() {
			var newContent = require("!!../node_modules/css-loader/index.js??ref--2-1!../node_modules/postcss-loader/lib/index.js!./app-styles.css");
			if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./src_admin/app.js":
/* no static exports found */
/* all exports used */
/*!**************************!*\
  !*** ./src_admin/app.js ***!
  \**************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _eventbus = __webpack_require__(/*! eventbus */ "./lib/eventbus/index.js");

var _eventbus2 = _interopRequireDefault(_eventbus);

var _devices = __webpack_require__(/*! ./devices/devices.js */ "./src_admin/devices/devices.js");

var _dashboard = __webpack_require__(/*! ./dashboard/dashboard */ "./src_admin/dashboard/dashboard.js");

var _users = __webpack_require__(/*! ./users/users */ "./src_admin/users/users.js");

var _widgets = __webpack_require__(/*! ./widgets/widgets */ "./src_admin/widgets/widgets.js");

var _appStyles = __webpack_require__(/*! ./app-styles */ "./src_admin/app-styles.css");

var _appStyles2 = _interopRequireDefault(_appStyles);

var _popsicle = __webpack_require__(/*! popsicle */ "./node_modules/popsicle/dist/common.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var  = function (_React$Component) {
    _inherits(, _React$Component);

    function () {
        _classCallCheck(this, );

        var _this = _possibleConstructorReturn(this, (.__proto__ || Object.getPrototypeOf()).call(this));

        _this.state = {
            active: false,
            action: ''
        };
        return _this;
    }

    _createClass(, [{
        key: 'componentWillMount',
        value: function componentWillMount() {
            var _this2 = this;

            _eventbus2.default.subscribe('/', function (e) {
                _this2.setState({
                    active: true,
                    title: e.title,
                    action: e.action
                });
            });
        }
    }, {
        key: 'handleClick',
        value: function handleClick() {}
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            //let actionButton = <Button icon={this.state.actionIcon||''} label={this.state.action||''} inverse onClick={()=>this.handleClick()}/>;        
            var actionButton = this.state.action ? _react2.default.createElement(_reactToolbox.Button, { icon: this.state.action.icon || '', label: this.state.action.label || '', inverse: true, onClick: function onClick() {
                    return _this3.handleClick;
                } }) : null;
            return _react2.default.createElement(
                _reactToolbox.Snackbar,
                {
                    active: this.state.active,
                    timeout: 5000,
                    onTimeout: function onTimeout() {
                        _this3.setState({ active: false });
                    }
                },
                _react2.default.createElement(
                    'div',
                    { className: _appStyles2.default.snackbar },
                    _react2.default.createElement(
                        'span',
                        null,
                        _react2.default.createElement(
                            _reactToolbox.Avatar,
                            null,
                            _react2.default.createElement('img', { src: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxAQERMSEhAPEBUVEhAQEBAQEA8PDw8PFRIWFhUSFRUYHSggGBolHRUVITEhJSkrLi4uFx8zODMtNygtLjcBCgoKDg0OFxAQFysdFRkrKy0rKy0rKystLS0rLS0rLS0tNy0tNzc3Ky03Ny0rKystKysrKystKysrKysrKysrK//AABEIAMYA/gMBIgACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAAFAAIDBAYBB//EADUQAAEEAQIEBAQFBAIDAAAAAAEAAgMRBAUhEjFBUQYTImEycYGRUnKhscEHFCNCYvCy0eH/xAAZAQADAQEBAAAAAAAAAAAAAAAAAgMBBAX/xAAgEQEBAAMAAwEBAAMAAAAAAAAAAQIDERIhMQRBE0JR/9oADAMBAAIRAxEAPwDzSWFrDwjmCb+ZTuHYdgKXcojzSnNAopKHApY2WfZQ8SkxJT5fEATcnCPYd0oFoGW13sKVeE9E+CWro805jfUsoXJnf4j7LD5Pxn5rb5vpj+bgFi8xtPd81uINjT02MJ9JwQT2pqcxLkGm8NSub8PNemaY5zoWl3PqvP8AwXEHFek6az0OB6E/Zc+ZoGSREv4xexuvdEMfJc9wthb6eWx+qja4CN5q+Em/opsKQOjbKWlt0QOZClPoUtaynMgncG0Aw/Efatl4fF6nknuvW/6hzCHFc2z6yT35/wALyjAZZ+q6cfimE7RjDgSyICr2HHyCKO0vjCn5e3dNXpkXsUPBujeXpzmHcfJVv7MnkCqTKI5ar/AiXcp0UJKJt0838Ktw4BPRb5Qs1UJEJUb4StCzH4Nq+qqT4/MhHlG/4rACYUqZRXKx+ZQkqscuf0W8OT8Evz2WnyRfF7igsRhPLXtI7hbiV9tYa50lyIY5hDm+zf2ViCSmlxrdw5j2Kad/VWwBv5Fd1Bwc0fhHAG1t/qbRjWMfNLcpP0ViwGn9ENyprdY2TPPd3TcaIB1q/hEBhb72B+6zpkPdTRZbm9VnAPsfuruFu8LNMzz1RbSc0OclsA3q4/xH7/qsPkfEVstWm/xH7LHTD1IxDrBsnJBq7SYOJzWroCkaEtobTwLzXor3GOMkczsvOfBe1nsvSZ3egem+ICz0HuuXZkZS0ttxyON7kkj5K5p/rZttRI9qXMOMNBaDZrcjoFW0l7mOcKu3W7sB3CnKZkv6nkeQNxYIFDla8/0dln6rbf1Xy2emNu5Jt3tSyfh9oLqK6v8AVbRj3JosGLdH8bYIc3HoCt0TxQua17OGPYdlYQkG4UOLpzWXYRUGkyUWsmVFwgf/AGbT0H2TP7ADoikcabO2gt8meEZnMhoofM1FtQG6FTFNMk8sZwIzGiis28brTZY2KzUnMrsw+PI3T2n0+PikaO5C3VAOjb0AN/ZZLw1DxTt+61GtyGJkjwNxs32s1aM0ExFEjoVR1yYsYPdw/wDEqfTpxINjdBu55k1uotckHltBHF6+nTYpcQw6S4uqoJJIFJAJT40xa4EKBdBQB+fM42bn3Ql3NSX6QmJKDmlOCa0KVrVgItpPauBqe0LKGu8G9V6Wx4LGg9gvMvBx3peitNAV9VyZtjuAPLEgoep3pPMhvZcA4HtLfh4qd7WOvsrEvKx2tcibba7rMYePJf6lzB2YW/hA/VB9LjcCCOXJXNfhdLmzdacaPsoIcgQktI+i6f46tM41WLnNAHEjeKOIWFkYntkbtz4SeE8z8kW8PalVsP0v9lC4vT15jvnVzTw4HqmyEEKrAK3JSeLoEWPUWXJsoG5rI+ZUM+pxuFhHCWwPy90JnCvT5wN8kOyZwRYT44ubPKcD8zkVmphuVpJfhLjyWcyCC4kLq1vL3jng9h84Hsj+tSh1t5jr81V8F4dsLvmrMTxIXkD4XuZvzNdVmdcxYrRF6QN+vsU3MxjwWOrxd/Iq1BQLnne9q9652qesOPlt3/3/AIKNYYNdXElYEuriSASc1cCe3mgLdbJoTmmwuJaDmqVqjClalBy6Eg0qVsDvwn7JbWyVpPB3xr0EsfwW3pvRXn3hh3A71bfPZbKfxFjxs3cdhuACVz2dNJRCOf8AUbjsU3Iy+CFzroBrnH6BZeTxhCT6WSO+wCH6x4rdLEYWxhgftxE2aWY4nmN6zenTGTJc4n4if3UuVgCTJA5Dr7lcw8by3srutDNghx4xse/uq9d+rT2exzRtBxg0uNF4aQ0A7BY7KhlZM5zQSziNmqAK0OHK4UCSD81B4gzGhnlsqz8R7pbXVNfL6ENHc+WG+ZGypajmeX6eqMeGMfycYEnerKA5GEcmRzgaFrD20MkmL97UmG1rtuIbdlal0JpeGF5Da9R5W72UmP4bcC5wcIo+buIb2PwfPum4jllVafGbRo2g3C6+HuU9+URMWNvhva+yuSQEkOpHOJ86g1WP/Fw+1rJlm61upSen6FBdLwy9xd0FlVxvHLt19rQaFneXEGAUf1JVrHhDbPK7P1QvDguRp6WtFDBxv6E1t2pLlXNnh4oWN/26ciEI1954R24+nyKLPk4m8I5h25H7IbrMfoA/5/wU2CTDrq4u2rAlxdtcQHQnBNCcEBax+ScGq1p+nyPA2od1pMDRWN3Is+6lnlItr05ZAOJpUj96oIzjaKBzFo9DjeyuxYy58tru1/j/AOgMWlgdAr8Wm+yKNxT2V6LGUrna6J+fGA8WnV0TpdL4mkdwUeZApREtloy14z+PJWjgkc08wSFFnO9bER8S4/k5Lj0O6Gy04hUiHjOiMO7mlabFdtvuszibuC1EcVNC2uvXPSmSQ4u7dEEYHSzcPd32RzVZPJic77e9qPwVp/Hcp5uP0A9lvDj2q5Hk44YOZACG6PJwtPuu+JpOQOwH6qtpJ4+SU2MXc6Eup46Lk7nllEkikfxYGiKnUqOQ5jBXNMSyMnj6dxyXVVzKJ6oWMYAAE2fLDSaoIZmyl6E85J8B823mh129ldwoRFBITV7tBHUnsonQjia26s81fEXFJ5ZGzNxtsmc+dk9lDDwR3yJAr2CvQyEG28gzfvarZ2+w9j9jyU8M4HER/sK70sebnl5VzA9ERLh6jbj9SqOruJjaf+f8FXq9JF8xRPVU9ViqJo5+ofsVXWmwKSSSqHQEqXF0IDoaj2i6VZDnjbagq2kYXEQ48lrMSG6UtmfPTp06vK9WsOD2RSHGXMSHki8ES48r2vX14TGK8OMrTIPZWGsT2tSmtNZCFII1ICuB+63iVzObGuuapmi01zE3E7m87/qFABwv6k0sk4HhaV6B45xDIGD35LC61F5UjGHoAnhLRLQm24FbNkN0sr4cYKsrXQZA4dt1ldWF9AnjeC42NHufqovC2sNiZwEfX37KTWsjiPBzJVbH09jAXG9vUVvkXvtP4myvO4QAT12U/hLH9Z6ivseyjlZxxNprbJNDrS0GjaaMaPnbjuSVvVJlxY1DbkgeZyRvIZbSVn86VDewHyGb2q8simyHoTPLumjm2bFiAcUrT0G5RLGeQHOPMmh3pC8YOZ/kA9qPVEI8lso2PC78Pf5JnBtztMyHGlLiDYV2UeUzhAB5lOgkpoCyuNI926g1V5EY/MP2Kne2mqLOmHlD84/Yp8IIwISCS6rNcVnBh4iqyN6VDQ/VLleRTXj5UWwYaqlotPhQjCYj+CFx55e3sasJIKY8KJxs2VGBEYzspK5fD2sTqXA5LiCZG9cKjbzUpUJWBfh5KIybqTHNtVU7EqifiynjnK4Hx/crE+KpOORrwKFfwtX/AFBYTwO7WsblSiQNA3IFFNCZYiWBklsQrujOHqBA5LPYHw8J+yKRY5e2ge6bx62ZWRLNmMvi5uVpr/Oa4XTOp60sNmOkheWusb/cJQarIwUDseYW/wCEs349b3DmBoHfg+H3C0eJmh0du5heYadrRBAPK1rsLUBIPSR9ElwsdGOyWNDPOHMNLOZ7gF1uoU6ia9kN1jL3QMtkU8rI6KvhM43qtLIS5W8S2kFMjzyGZIBw0Ag+Rj8JsbdlocU8QVTPiW9Zlp9B0WoB5Al5gEB//tWYY6A6+4VGWJdwswxO9QLm9u3ujri2auCz5KHJDtRiaYhxE3x9D04Sr2U4bOBsHkVT1GvLF/jH7FUwc7FBKly10FVbEkTbIWjw27BZ+EbhaPCapbb6df557GsJiM4wpC8QIrAuKvVx+CeMrgcqMLqViN9lYarQK6HKLiSDlrOLHEm1ai41NG8BaS4rOKa5qvmjfZSCZQZMtpyTGsf4tJcAOywuO6pHDpa9H1vE8wbfVYHUcbypP1tPCbJwpZeA2imDqRZwuHfcFBcsW0H3VZ7y0ijapIj5c+tN4j04ZDRI2rG+3VY+TGeDXCVpNN1Ut2P2V2XJhcQT9trTd4Loxz9xmsPSJ5HBobV1udq90Zgx/wC3e5vmcRaK25WrWRnyVwsHADsXdaQaKdrS4XZ7nqi3rLhjh/VubM4jZO/JMknL9lRwwZJCDy+yvmOyA3odz7JLGS9RQt9dc6PNE5IqUmLjDpt7qNzzZFcuXuldOvDgvovI2nai2lWwHEbosyLzAlX4Cx4oduqs8Is7I/kY/AELkYhLZrlCY8jgtrjsdwexTdUl9Ao36h+xVjLxgUAzuNvXa1fB5e7X40KTmc01T4rLcFVGJw2iFoNO3QOcbozpx2Cjt+O3QP4pRXHcg+OUTx3LksejjRSNymhPqVWJylukp12Ryj8xQeZaaXIbE5mATfPKpOekHJ4bi8Jinebaosk9Q7dU/wAy90xuHTG1k/FWCSOJoutytQ4qlnRlw9qop8ajtwljzxr9qULG7+45IlrGF5biRyvZCLIdatHnbJ7EIhxc+aI4RiDgTRI6HugzMijYS4qog2R+6OEmVFtXzLsDY9h2QIG/miDYy/1US7hqugVjTNN34n9N6WNmNypabhmiTtav2PhA+qdNJew2Siasrrw1yLTHBraVQjiOye83spceFLxaRNjtPJHsJnCLKrabp5e4UEczcbhoBLThWZuhE7UWyNlVlhttrBYEPCD6vj+kGv8Ab+EekYhurNpg/N/BVsHnfpnGLV3T+apIjgN2Va4IkmG6J4PRD5RuiWE1Qzru1DWMiMBpDsYIhGue/XZjV6N6lLlUYVIZUtikqVr6UqqHurmEfQSUQ0qGQLoCcd11rlpumgJ8gpRl9lRyzX1Tm8jyVE6UKF09bWowaWwUP1TEDuY2WfzNOHMbey1crr5IZnMtVxrmz1SgcWA0jnStx6exrT1d0PRODCE+MlbaSaYlgIY0N69VwvUjY7UrYQs6aYq8bLU4Yp2MCm4AtUkV44ESxsXdV2NRLE5pDSRodFxwxpKblyb91XbmFraUDsm/ugtc1TGds4cutqnPCS0UCNloPPbK0MJA5b8qVKXJ47a/ethyWM8mXmjpCtY+AfmH7FHs4CzSz+sn0D838FUwcP6vjFBEsQ0EPBVrGKrk4sIItbaJ4jKVDHCKYzVz5V365wQxwrrCqMRpWQ9SsdETufSpSZg42svdx5J8ktBA8mSsmJ191sxZ58rWebwkNP1VtkoquiCmezaIQOABceZS8XxvXJHvL+fp6AKTzCFEXJr3rY1NJL2VSZxtKA2517VRb791EZg4HpRI+a00RyHdSSP2CY14PNKU3VJmuxFMkitOY+kmyknoAtHOqsmPso44FcyW2U6BlLes8VXhT2tTpRRTXey3peHBTBdx8e1ZbBwlHkOI2ilcxNtymOjtcJ6LLW84mlmsqDIn4QFFLJSrSBx5pS2r7cn1AXzF2pzkWaQsC1Yh2QWlmuCz+sfAPzfwUUyZbcg+sv8ASPzfwVbCOD9PxkaU8A3UAKtYypXJh9F8REoSh+ONlcaVDL678fi/G5T+ZsqUTl2aXYpOK9KWeygmrvpzSOhVwSIPqc1mrVcZ6c+zNo8OewCijJ7pZDTs0ih0RvGybU8sXRq2SwaMybAfMcR0G5KoumsbfdSyTlrWsZ1PrKTi/kWVNRAHerUj2hgq7Koud6vqpHu681rfI4vSOQAoBITdqmyXivsFsFzi/wD3FlSNeEHORQPsapWsaba/uismcFPMTS6zsqTpqNKyzYArOqeR0MnE4tKsBgCrAi7TpZCjo6vCYd0/zb5Icw9/qrMb9rCB1ba42mB1lcY+0i2kCmyja1UEpcOyfkze6q+bSxLqaEb7qaWcAbKhJkWNkxhJ5rYTKkZUL1d+w/N/CvvQrVHbD5/wujBw76BMbZV/GjSSW1HD6LwN2CmSSUq64kYVFkv2SSRG0NnmoKnjQiR4BSSVY58jZo+B5A5Aoljz0AEkkuRsBBspT2PN3aSSlXXPhxd1UTZSXUuJJTlmzcI2VSGYsII/+LqSeJ5opG3X/bVnEyeEPYW8QeA0G6LD3CSSE59SlhjppNkVurMBJvfkkkldOCXioqQOXEkKG4w9Tr32VgSeySSVqaOakyfJKSS0uQdLIVB5tmkkkJVYYAAuSSriS2J5K0shQfUX3911JdGPxw76/9k=' })
                        ),
                        this.state.title
                    ),
                    _react2.default.createElement(
                        'div',
                        null,
                        actionButton,
                        _react2.default.createElement(_reactToolbox.Button, { icon: 'close', mini: true, inverse: true, floating: true, onClick: function onClick() {
                                return _this3.setState({ active: false });
                            } })
                    )
                )
            );
        }
    }]);

    return ;
}(_react2.default.Component);

var App = function (_React$Component2) {
    _inherits(App, _React$Component2);

    function App() {
        _classCallCheck(this, App);

        var _this4 = _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).call(this));

        _this4.state = {
            snackbar: { active: false, label: null, onClick: null, action: null },
            drawerPinned: false
        };
        _this4.views = {
            'devices': _react2.default.createElement(_devices.Devices, { onMenuClick: function onMenuClick() {
                    return _this4.handleAppMenuClick();
                } }),
            'dashboards': _react2.default.createElement(_dashboard.DashboardsList, { onMenuClick: function onMenuClick() {
                    return _this4.handleAppMenuClick();
                } }),
            'users': _react2.default.createElement(_users.Users, { onMenuClick: function onMenuClick() {
                    return _this4.handleAppMenuClick();
                } }),
            'widgets': _react2.default.createElement(_widgets.Widgets, { onMenuClick: function onMenuClick() {
                    return _this4.handleAppMenuClick();
                } })
        };
        return _this4;
    }

    _createClass(App, [{
        key: 'handleAppMenuClick',
        value: function handleAppMenuClick() {
            console.log('Menu click');
            this.setState({ drawerPinned: !this.state.drawerPinned });
        }
    }, {
        key: 'handleMenuSelect',
        value: function handleMenuSelect(view) {
            this.setState({ drawerPinned: false, view: view });
        }
    }, {
        key: 'componentWillMount',
        value: function componentWillMount() {
            var view = window.location.hash.replace('#', '');
            if (!view) view = 'devices';
            this.setState({ view: view });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this5 = this;

            var timeout = 1000;
            return _react2.default.createElement(
                _reactToolbox.Layout,
                null,
                _react2.default.createElement(
                    _reactToolbox.NavDrawer,
                    {
                        active: this.state.drawerPinned,
                        onOverlayClick: function onOverlayClick() {
                            return _this5.handleAppMenuClick();
                        } },
                    _react2.default.createElement(
                        _list.List,
                        { selectable: true },
                        _react2.default.createElement(_list.ListItem, { caption: 'Devices', leftIcon: 'memory', onClick: function onClick() {
                                return _this5.handleMenuSelect('devices');
                            } }),
                        _react2.default.createElement(_list.ListItem, { caption: 'Widgets', leftIcon: 'widgets', onClick: function onClick() {
                                return _this5.handleMenuSelect('widgets');
                            } }),
                        _react2.default.createElement(_list.ListItem, { caption: 'Dashboards', leftIcon: 'dashboard', onClick: function onClick() {
                                return _this5.handleMenuSelect('dashboards');
                            } }),
                        _react2.default.createElement(_list.ListItem, { caption: 'Users and groups', leftIcon: 'supervisor_account', onClick: function onClick() {
                                return _this5.handleMenuSelect('users');
                            } })
                    )
                ),
                _react2.default.createElement(
                    _reactToolbox.Panel,
                    null,
                    this.views[this.state.view]
                ),
                _react2.default.createElement(, null)
            );
        }
    }]);

    return App;
}(_react2.default.Component);

_reactDom2.default.render(_react2.default.createElement(App, null), document.getElementById("root"));

/***/ }),

/***/ "./src_admin/components/confirmation.js":
/* no static exports found */
/* all exports used */
/*!**********************************************!*\
  !*** ./src_admin/components/confirmation.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ConfirmationDialog = function (_React$Component) {
    _inherits(ConfirmationDialog, _React$Component);

    function ConfirmationDialog() {
        _classCallCheck(this, ConfirmationDialog);

        var _this = _possibleConstructorReturn(this, (ConfirmationDialog.__proto__ || Object.getPrototypeOf(ConfirmationDialog)).call(this));

        _this.state = {
            active: false
        };
        return _this;
    }

    _createClass(ConfirmationDialog, [{
        key: 'request',
        value: function request(options) {
            var _this2 = this;

            return new Promise(function (resolve, reject) {
                _this2.$resolve = resolve;
                _this2.$reject = reject;
                var title = options.title;
                var accept = options.accept || 'Accept';
                var acceptIcon = options.acceptIcon || 'done';
                var cancel = options.cancel || 'Cancel';
                var cancelIcon = options.cancelIcon || 'close';
                var actions = [{ icon: cancelIcon, label: cancel, onClick: function onClick() {
                        return _this2.handleCancel();
                    } }, { icon: acceptIcon, label: accept, onClick: function onClick() {
                        return _this2.handleAccept();
                    } }];
                _this2.setState({
                    active: true,
                    actions: actions,
                    title: title
                });
            });
        }
    }, {
        key: 'handleAccept',
        value: function handleAccept() {
            this.setState({ active: false });
            this.$resolve();
        }
    }, {
        key: 'handleCancel',
        value: function handleCancel() {
            this.setState({ active: false });
            this.$reject();
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement(_reactToolbox.Dialog, { active: this.state.active,
                actions: this.state.actions,
                title: this.state.title
            });
        }
    }]);

    return ConfirmationDialog;
}(_react2.default.Component);

exports.default = ConfirmationDialog;

/***/ }),

/***/ "./src_admin/components/expandableListItem.css":
/* no static exports found */
/* all exports used */
/*!*****************************************************!*\
  !*** ./src_admin/components/expandableListItem.css ***!
  \*****************************************************/
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !../../~/css-loader??ref--2-1!../../~/postcss-loader/lib!./expandableListItem.css */ "./node_modules/css-loader/index.js?{\"modules\":true,\"sourceMap\":true,\"localIdentName\":\"[name]__[local]--[hash:base64:8]\"}!./node_modules/postcss-loader/lib/index.js!./src_admin/components/expandableListItem.css");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(/*! ../../~/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/postcss-loader/lib/index.js!./expandableListItem.css", function() {
			var newContent = require("!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/postcss-loader/lib/index.js!./expandableListItem.css");
			if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./src_admin/components/expandableListItem.js":
/* no static exports found */
/* all exports used */
/*!****************************************************!*\
  !*** ./src_admin/components/expandableListItem.js ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

var _expandableListItem = __webpack_require__(/*! ./expandableListItem.css */ "./src_admin/components/expandableListItem.css");

var _expandableListItem2 = _interopRequireDefault(_expandableListItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ExpandableListItem = function (_React$Component) {
    _inherits(ExpandableListItem, _React$Component);

    function ExpandableListItem() {
        _classCallCheck(this, ExpandableListItem);

        var _this = _possibleConstructorReturn(this, (ExpandableListItem.__proto__ || Object.getPrototypeOf(ExpandableListItem)).call(this));

        _this.state = {
            expanded: false
        };
        _this.actions = [_react2.default.createElement(_reactToolbox.Button, { mini: true, icon: 'keyboard_arrow_down', floating: true })];
        return _this;
    }

    _createClass(ExpandableListItem, [{
        key: 'handleToggle',
        value: function handleToggle() {
            this.setState({ expanded: !this.state.expanded });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this2 = this;

            var className = this.state.expanded ? _expandableListItem2.default.expanded : _expandableListItem2.default.closed;
            var rightIcon = this.state.expanded ? 'keyboard_arrow_up' : 'keyboard_arrow_down';
            return _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_list.ListItem, { onClick: function onClick() {
                        return _this2.handleToggle();
                    }, ripple: true, selectable: true, caption: this.props.caption, leftIcon: this.props.leftIcon, rightIcon: rightIcon }),
                _react2.default.createElement(
                    'div',
                    { className: className },
                    this.props.children
                )
            );
        }
    }]);

    return ExpandableListItem;
}(_react2.default.Component);

exports.default = ExpandableListItem;

/***/ }),

/***/ "./src_admin/components/iconselector.js":
/* no static exports found */
/* all exports used */
/*!**********************************************!*\
  !*** ./src_admin/components/iconselector.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var IconSelector = function (_React$Component) {
    _inherits(IconSelector, _React$Component);

    function IconSelector(props) {
        _classCallCheck(this, IconSelector);

        var _this = _possibleConstructorReturn(this, (IconSelector.__proto__ || Object.getPrototypeOf(IconSelector)).call(this));

        _this.values = [{ label: 'ICON1', value: 'exit_to_app' }, { label: 'ICON2', value: 'extension' }, { label: 'ICON1', value: 'explore' }];
        _this.state = { value: props.value || null };
        return _this;
    }

    _createClass(IconSelector, [{
        key: 'template',
        value: function template(item) {
            return _react2.default.createElement(_reactToolbox.FontIcon, { value: item.value });
        }
    }, {
        key: 'handleChange',
        value: function handleChange(value) {
            if (this.props.onChange) this.props.onChange(value);
            console.log(value);
            this.setState({ value: value });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this2 = this;

            return _react2.default.createElement(_reactToolbox.Dropdown, {
                auto: true,
                label: this.props.label,
                source: this.values,
                value: this.state.value,
                template: this.template,
                onChange: function onChange(value) {
                    return _this2.handleChange(value);
                }
            });
        }
    }]);

    return IconSelector;
}(_react2.default.Component);

exports.default = IconSelector;

/***/ }),

/***/ "./src_admin/components/index.js":
/* no static exports found */
/* all exports used */
/*!***************************************!*\
  !*** ./src_admin/components/index.js ***!
  \***************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ExpandableListItem = exports.ConfirmationDialog = exports.IconSelector = undefined;

var _iconselector = __webpack_require__(/*! ./iconselector */ "./src_admin/components/iconselector.js");

var _iconselector2 = _interopRequireDefault(_iconselector);

var _confirmation = __webpack_require__(/*! ./confirmation */ "./src_admin/components/confirmation.js");

var _confirmation2 = _interopRequireDefault(_confirmation);

var _expandableListItem = __webpack_require__(/*! ./expandableListItem */ "./src_admin/components/expandableListItem.js");

var _expandableListItem2 = _interopRequireDefault(_expandableListItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var IconSelector = exports.IconSelector = _iconselector2.default;
var ConfirmationDialog = exports.ConfirmationDialog = _confirmation2.default;
var ExpandableListItem = exports.ExpandableListItem = _expandableListItem2.default;

/***/ }),

/***/ "./src_admin/dashboard/components.js":
/* no static exports found */
/* all exports used */
/*!*******************************************!*\
  !*** ./src_admin/dashboard/components.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.DashboardSelector = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

var _apiDashboards = __webpack_require__(/*! ../api/api-dashboards */ "./src_admin/api/api-dashboards.js");

var _apiDashboards2 = _interopRequireDefault(_apiDashboards);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DashboardSelector = exports.DashboardSelector = function (_React$Component) {
    _inherits(DashboardSelector, _React$Component);

    function DashboardSelector(props) {
        _classCallCheck(this, DashboardSelector);

        var _this = _possibleConstructorReturn(this, (DashboardSelector.__proto__ || Object.getPrototypeOf(DashboardSelector)).call(this));

        _this.dashboards = [];
        _this.state = {
            selected: new Set(props.selected || [])
        };
        return _this;
    }

    _createClass(DashboardSelector, [{
        key: 'componentWillMount',
        value: function componentWillMount() {
            var _this2 = this;

            _apiDashboards2.default.list().then(function (dashboards) {
                _this2.dashboards = dashboards;
                _this2.setState({});
            });

            var selected = new Set(this.props.selected || []);
        }
    }, {
        key: 'isChecked',
        value: function isChecked(d) {
            return this.state.selected.has(d._id);
        }
    }, {
        key: 'toggleSelect',
        value: function toggleSelect(isSelected, dashboard) {
            var selected = new Set(this.state.selected);

            if (selected.has(dashboard._id)) selected.delete(dashboard._id);else selected.add(dashboard._id);
            this.setState({ selected: selected });

            this.props.onChange ? this.props.onChange(Array.from(selected)) : null;
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            return _react2.default.createElement(
                _list.List,
                null,
                this.dashboards.map(function (d, k) {
                    return _react2.default.createElement(_list.ListCheckbox, { key: k, caption: d.title, leftIcon: d.icon, checked: _this3.isChecked(d), onChange: function onChange(v) {
                            return _this3.toggleSelect(v, d);
                        } });
                })
            );
        }
    }]);

    return DashboardSelector;
}(_react2.default.Component);

/***/ }),

/***/ "./src_admin/dashboard/dashboard.js":
/* no static exports found */
/* all exports used */
/*!******************************************!*\
  !*** ./src_admin/dashboard/dashboard.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.DashboardsList = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _app_bar = __webpack_require__(/*! react-toolbox/lib/app_bar */ "./node_modules/react-toolbox/lib/app_bar/index.js");

var _app_bar2 = _interopRequireDefault(_app_bar);

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _menu = __webpack_require__(/*! react-toolbox/lib/menu */ "./node_modules/react-toolbox/lib/menu/index.js");

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

var _components = __webpack_require__(/*! ../components */ "./src_admin/components/index.js");

var _api = __webpack_require__(/*! ../api/ */ "./src_admin/api/index.js");

var _api2 = _interopRequireDefault(_api);

var _eventbus = __webpack_require__(/*! eventbus */ "./lib/eventbus/index.js");

var _eventbus2 = _interopRequireDefault(_eventbus);

var _dashboardlistStyle = __webpack_require__(/*! ./dashboardlist-style */ "./src_admin/dashboard/dashboardlist-style.css");

var _dashboardlistStyle2 = _interopRequireDefault(_dashboardlistStyle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DashboardEditor = function (_React$Component) {
    _inherits(DashboardEditor, _React$Component);

    function DashboardEditor() {
        _classCallCheck(this, DashboardEditor);

        var _this = _possibleConstructorReturn(this, (DashboardEditor.__proto__ || Object.getPrototypeOf(DashboardEditor)).call(this));

        _this.state = {
            active: false
        };
        _this.actions = [{ label: 'Cancel', icon: 'cancel', onClick: function onClick() {
                return _this.handleCancelClick();
            } }, { label: 'Save', icon: 'check', onClick: function onClick() {
                return _this.handleApplyClick();
            }, primary: true, raised: true }];
        return _this;
    }

    _createClass(DashboardEditor, [{
        key: 'edit',
        value: function edit(d) {
            var _this2 = this;

            return new Promise(function (resolve, reject) {
                var state = _extends({}, d);
                state.active = true;
                _this2.setState(state);

                _this2.$resolve = resolve;
                _this2.$reject = reject;
            });
        }
    }, {
        key: 'handleApplyClick',
        value: function handleApplyClick() {
            var _this3 = this;

            if (!this.state.title || !this.state.icon) return;
            var d = this.state;
            delete d.active;
            this.setState({ active: false });
            _api2.default.dashboards.save(d).then(function (dashboard) {
                _this3.$resolve(dashboard);
            });
        }
    }, {
        key: 'handleCancelClick',
        value: function handleCancelClick() {
            this.setState({ active: false });
            this.$reject;
        }
    }, {
        key: 'error',
        value: function error() {
            return this.state.title ? false : 'Name is empty';
        }
    }, {
        key: 'render',
        value: function render() {
            var _this4 = this;

            return _react2.default.createElement(
                _reactToolbox.Dialog,
                {
                    active: this.state.active,
                    actions: this.actions },
                _react2.default.createElement(_reactToolbox.Input, { label: 'Dashboard title', required: true, value: this.state.title, onChange: function onChange(title) {
                        return _this4.setState({ title: title });
                    }, error: this.error() }),
                _react2.default.createElement(_components.IconSelector, { label: 'Dashboard icon', value: this.state.icon, onChange: function onChange(icon) {
                        return _this4.setState({ icon: icon });
                    } })
            );
        }
    }]);

    return DashboardEditor;
}(_react2.default.Component);

var DashboardRemover = function (_React$Component2) {
    _inherits(DashboardRemover, _React$Component2);

    function DashboardRemover() {
        _classCallCheck(this, DashboardRemover);

        var _this5 = _possibleConstructorReturn(this, (DashboardRemover.__proto__ || Object.getPrototypeOf(DashboardRemover)).call(this));

        _this5.state = {
            active: false

        };

        _this5.actions = [{ label: 'Cancel', icon: 'close', onClick: function onClick() {
                return _this5.handleCancelClick();
            } }, { label: 'Remove', icon: 'delete_forever', onClick: function onClick() {
                return _this5.handleRemoveClick();
            }, primary: true, raised: true }];
        return _this5;
    }

    _createClass(DashboardRemover, [{
        key: 'remove',
        value: function remove(d) {
            var _this6 = this;

            return new Promise(function (resolve, reject) {
                _this6.$resolve = resolve;
                _this6.$reject = reject;
                _this6.setState({ active: true, title: d.title, dashboard: _extends({}, d) });
            });
        }
    }, {
        key: 'handleRemoveClick',
        value: function handleRemoveClick() {
            var _this7 = this;

            _api2.default.dashboards.remove(this.state.dashboard).then(function () {
                _this7.$resolve(_this7.state.dashboard);
                _this7.setState({ active: false });
            });
        }
    }, {
        key: 'handleCancelClick',
        value: function handleCancelClick() {
            this.setState({ active: false });
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement(_reactToolbox.Dialog, {
                active: this.state.active,
                actions: this.actions,
                title: 'Remove dashboard ' + this.state.title
            });
        }
    }]);

    return DashboardRemover;
}(_react2.default.Component);

var DashboardAcccesEditor = function (_React$Component3) {
    _inherits(DashboardAcccesEditor, _React$Component3);

    function DashboardAcccesEditor() {
        _classCallCheck(this, DashboardAcccesEditor);

        var _this8 = _possibleConstructorReturn(this, (DashboardAcccesEditor.__proto__ || Object.getPrototypeOf(DashboardAcccesEditor)).call(this));

        _this8.state = {
            active: false
        };
        _this8.actions = [{ label: 'Cancel', icon: 'cancel', onClick: function onClick() {
                return _this8.handleCancelClick();
            } }, { label: 'Save', icon: 'check', onClick: function onClick() {
                return _this8.handleApplyClick();
            }, primary: true, raised: true }];
        return _this8;
    }

    _createClass(DashboardAcccesEditor, [{
        key: 'editAcl',
        value: function editAcl($d) {
            var _this9 = this;

            return new Promise(function (resolve, reject) {
                _this9.$resolve = resolve;
                _this9.$reject = reject;
                _this9.setState({ active: true, dashboard: _extends({}, $d), title: $d.title });
            });
        }
    }, {
        key: 'handleApplyClick',
        value: function handleApplyClick() {
            this.$resolve();
            this.setState({ active: false });
        }
    }, {
        key: 'handleCancelClick',
        value: function handleCancelClick() {
            this.setState({ active: false });
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement(_reactToolbox.Dialog, {
                active: this.state.active,
                actions: this.actions,
                title: 'Access for ' + this.state.title
            });
        }
    }]);

    return DashboardAcccesEditor;
}(_react2.default.Component);

var DashboardsList = exports.DashboardsList = function (_React$Component4) {
    _inherits(DashboardsList, _React$Component4);

    function DashboardsList() {
        _classCallCheck(this, DashboardsList);

        var _this10 = _possibleConstructorReturn(this, (DashboardsList.__proto__ || Object.getPrototypeOf(DashboardsList)).call(this));

        _this10.state = {
            dashboards: []
        };
        _api2.default.dashboards.list().then(function (dashboards) {
            return _this10.setState({ dashboards: dashboards });
        });
        return _this10;
    }

    _createClass(DashboardsList, [{
        key: 'componentWillMount',
        value: function componentWillMount() {
            var _this11 = this;

            this.$sub = _eventbus2.default.subscribe('/dashboard/saved', function (dashboard) {
                var dashboards = _this11.state.dashboards;
                var index = dashboards.findIndex(function (d) {
                    return d._id == dashboard._id;
                });
                if (index == -1) dashboards.push(dashboard);else dashboards[index] = dashboard;
                _this11.setState({ dashboards: dashboards });
            });

            this.$removeSub = _eventbus2.default.subscribe('/dashboard/removed', function (dashboard) {
                console.log(dashboard);
                var dashboards = _this11.state.dashboards;
                var index = dashboards.findIndex(function (d) {
                    return d._id == dashboard._id;
                });
                dashboards.splice(index, 1);
                _this11.setState({ dashboards: dashboards });
            });
        }
    }, {
        key: 'componentWillUnmount',
        value: function componentWillUnmount() {
            this.$sub();
            this.$removeSub();
        }
    }, {
        key: 'handleDashboardEdit',
        value: function handleDashboardEdit(d) {
            var _this12 = this;

            this.editor.edit(d).then(function (dashboard) {
                var dashboards = _this12.state.dashboards;
                var index = dashboards.findIndex(function (d) {
                    return d._id == dashboard._id;
                });
                dashboards[index] = dashboard;
                _this12.setState({ dashboards: dashboards });
            });
        }
    }, {
        key: 'handleDashboardCreate',
        value: function handleDashboardCreate() {
            this.editor.edit({ title: '', icon: '' }).then(function (dashboard) {});
        }
    }, {
        key: 'handleDashboardRemove',
        value: function handleDashboardRemove(d) {
            this.remover.remove(d).then(function (dashboard) {});
        }
    }, {
        key: 'handleDashboardAccess',
        value: function handleDashboardAccess(d) {
            this.acleditor.editAcl(d);
        }
    }, {
        key: 'handleAppbarClick',
        value: function handleAppbarClick() {
            this.props.onMenuClick ? this.props.onMenuClick() : null;
        }
    }, {
        key: 'actions',
        value: function actions(d, k) {
            var _this13 = this;

            return [_react2.default.createElement(
                _menu.IconMenu,
                { key: k, icon: 'more_vert' },
                _react2.default.createElement(_menu.MenuItem, { caption: 'Edit', icon: 'mode_edit', onClick: function onClick() {
                        return _this13.handleDashboardEdit(d);
                    } }),
                _react2.default.createElement(_menu.MenuItem, { caption: 'Access', icon: 'lock_outline', onClick: function onClick() {
                        return _this13.handleDashboardAccess(d);
                    } }),
                _react2.default.createElement(_menu.MenuItem, { caption: 'Remove', icon: 'delete_forever', onClick: function onClick() {
                        return _this13.handleDashboardRemove(d);
                    } })
            )];
        }
    }, {
        key: 'render',
        value: function render() {
            var _this14 = this;

            return _react2.default.createElement(
                'div',
                { style: { position: 'relative' } },
                _react2.default.createElement(
                    _app_bar2.default,
                    { title: 'Dashboards', leftIcon: 'menu', onLeftIconClick: function onLeftIconClick() {
                            return _this14.handleAppbarClick();
                        } },
                    _react2.default.createElement(_reactToolbox.Button, { mini: true, icon: 'add', onClick: function onClick() {
                            return _this14.handleDashboardCreate();
                        }, label: 'Create', raised: true, primary: true })
                ),
                _react2.default.createElement(
                    _list.List,
                    { ripple: false },
                    this.state.dashboards.map(function (d, k) {
                        return _react2.default.createElement(_list.ListItem, { key: k, caption: d.title, leftIcon: d.icon, rightActions: _this14.actions(d, k), onClick: function onClick() {
                                return _this14.handleDashboardEdit(d);
                            }, ripple: true, selectable: true });
                    })
                ),
                _react2.default.createElement(DashboardEditor, { ref: function ref(e) {
                        return _this14.editor = e;
                    } }),
                _react2.default.createElement(DashboardRemover, { ref: function ref(e) {
                        return _this14.remover = e;
                    } }),
                _react2.default.createElement(DashboardAcccesEditor, { ref: function ref(e) {
                        return _this14.acleditor = e;
                    } })
            );
        }
    }]);

    return DashboardsList;
}(_react2.default.Component);

/***/ }),

/***/ "./src_admin/dashboard/dashboardlist-style.css":
/* no static exports found */
/* all exports used */
/*!*****************************************************!*\
  !*** ./src_admin/dashboard/dashboardlist-style.css ***!
  \*****************************************************/
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !../../~/css-loader??ref--2-1!../../~/postcss-loader/lib!./dashboardlist-style.css */ "./node_modules/css-loader/index.js?{\"modules\":true,\"sourceMap\":true,\"localIdentName\":\"[name]__[local]--[hash:base64:8]\"}!./node_modules/postcss-loader/lib/index.js!./src_admin/dashboard/dashboardlist-style.css");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(/*! ../../~/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/postcss-loader/lib/index.js!./dashboardlist-style.css", function() {
			var newContent = require("!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/postcss-loader/lib/index.js!./dashboardlist-style.css");
			if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./src_admin/devices/cardview.js":
/* no static exports found */
/* all exports used */
/*!***************************************!*\
  !*** ./src_admin/devices/cardview.js ***!
  \***************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.UnknownDeviceView = exports.KnownDeviceView = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

var _card = __webpack_require__(/*! react-toolbox/lib/card */ "./node_modules/react-toolbox/lib/card/index.js");

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _dialog = __webpack_require__(/*! react-toolbox/lib/dialog */ "./node_modules/react-toolbox/lib/dialog/index.js");

var _dialog2 = _interopRequireDefault(_dialog);

var _progress_bar = __webpack_require__(/*! react-toolbox/lib/progress_bar */ "./node_modules/react-toolbox/lib/progress_bar/index.js");

var _progress_bar2 = _interopRequireDefault(_progress_bar);

var _menu = __webpack_require__(/*! react-toolbox/lib/menu */ "./node_modules/react-toolbox/lib/menu/index.js");

var _api = __webpack_require__(/*! ../api */ "./src_admin/api.js");

var _api2 = _interopRequireDefault(_api);

var _styles = __webpack_require__(/*! ./styles */ "./src_admin/devices/styles.css");

var _styles2 = _interopRequireDefault(_styles);

var _eventbus = __webpack_require__(/*! eventbus */ "./lib/eventbus/index.js");

var _eventbus2 = _interopRequireDefault(_eventbus);

var _widgetwizzard = __webpack_require__(/*! ./wizzard/widgetwizzard */ "./src_admin/devices/wizzard/widgetwizzard.js");

var _components = __webpack_require__(/*! ../components */ "./src_admin/components/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var KnownDeviceEditDialog = function (_React$Component) {
    _inherits(KnownDeviceEditDialog, _React$Component);

    function KnownDeviceEditDialog(props) {
        _classCallCheck(this, KnownDeviceEditDialog);

        var _this = _possibleConstructorReturn(this, (KnownDeviceEditDialog.__proto__ || Object.getPrototypeOf(KnownDeviceEditDialog)).call(this));

        _this.state = {
            active: false,
            name: ''
        };
        _this.actions = [{ label: 'Apply', icon: 'done', onClick: function onClick() {
                return _this.handleApply();
            } }, { label: 'Cancel', icon: 'close', onClick: function onClick() {
                return _this.setState({ active: false });
            } }];
        return _this;
    }

    _createClass(KnownDeviceEditDialog, [{
        key: 'handleApply',
        value: function handleApply() {
            this.props.onApply ? this.props.onApply({ name: this.state.name }) : null;
            this.setState({ active: false });
        }
    }, {
        key: 'setDevice',
        value: function setDevice(d) {
            this.setState({ name: d.name, active: true });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this2 = this;

            return _react2.default.createElement(
                _dialog2.default,
                { active: this.state.active, actions: this.actions },
                _react2.default.createElement(_reactToolbox.Input, { label: 'Device name', value: this.state.name, onChange: function onChange(name) {
                        return _this2.setState({ name: name });
                    } })
            );
        }
    }]);

    return KnownDeviceEditDialog;
}(_react2.default.Component);

var KnownDeviceView = exports.KnownDeviceView = function (_React$Component2) {
    _inherits(KnownDeviceView, _React$Component2);

    function KnownDeviceView(props) {
        _classCallCheck(this, KnownDeviceView);

        var _this3 = _possibleConstructorReturn(this, (KnownDeviceView.__proto__ || Object.getPrototypeOf(KnownDeviceView)).call(this));

        _this3.state = {
            editDevice: null,
            sensors: props.device.values || {}
        };

        return _this3;
    }

    _createClass(KnownDeviceView, [{
        key: 'componentWillMount',
        value: function componentWillMount() {
            var _this4 = this;

            console.log(this.state.sensors);
            this.sensorSubsciption = _eventbus2.default.subscribe('/device/sensor/value', function (e) {
                if (e.devId == _this4.props.device.id) {
                    var sensors = _this4.state.sensors;
                    sensors[e.sensor] = e.value;
                    _this4.setState({ sensors: sensors });
                }
            });
        }
    }, {
        key: 'componentWillUnmount',
        value: function componentWillUnmount() {
            this.sensorSubsciption();
        }
    }, {
        key: 'handleForgetClick',
        value: function handleForgetClick() {
            _api2.default.forgetDevice(this.props.device);
        }
    }, {
        key: 'handleEditClick',
        value: function handleEditClick() {
            this.editor.setDevice(this.props.device);
        }
    }, {
        key: 'handleEditorApply',
        value: function handleEditorApply(d) {
            Object.assign(this.props.device, d);
            d.id = this.props.device.id;
            _api2.default.updateDevice(d);
            this.setState({});
        }
    }, {
        key: 'handleWidgetWizzard',
        value: function handleWidgetWizzard() {
            this.widgetWizzard.start(this.props.device);
        }
    }, {
        key: 'render',
        value: function render() {
            var _this5 = this;

            return _react2.default.createElement(
                'div',
                { className: _styles2.default.viewCard },
                _react2.default.createElement(
                    _menu.IconMenu,
                    { icon: 'more_vert', className: _styles2.default.menuIcon, menuRipple: true, position: 'topRight' },
                    _react2.default.createElement(_menu.MenuItem, { icon: 'delete_forever', caption: 'Forget', onClick: function onClick() {
                            return _this5.handleForgetClick();
                        } }),
                    _react2.default.createElement(_menu.MenuItem, { icon: 'mode_edit', caption: 'Edit', onClick: function onClick() {
                            return _this5.handleEditClick();
                        } }),
                    _react2.default.createElement(_menu.MenuItem, { icon: 'add_to_queue', caption: 'Make widget', onClick: function onClick() {
                            return _this5.handleWidgetWizzard();
                        } })
                ),
                _react2.default.createElement(_card.CardTitle, { title: this.props.device.name, subtitle: this.props.device.id }),
                _react2.default.createElement(
                    _list.List,
                    null,
                    _react2.default.createElement(
                        _components.ExpandableListItem,
                        { caption: 'Sensors' },
                        this.props.device.profile.sensors.map(function (s, k) {
                            var rightAction = _react2.default.createElement(
                                'span',
                                null,
                                _this5.state.sensors[s.name]
                            );
                            return _react2.default.createElement(_list.ListItem, { key: k, caption: s.name, legend: s.def, rightIcon: rightAction });
                        })
                    ),
                    _react2.default.createElement(
                        _components.ExpandableListItem,
                        { caption: 'Triggers' },
                        (this.props.device.profile.triggers || []).map(function (t, k) {
                            return _react2.default.createElement(_list.ListItem, { key: k, caption: t.name });
                        })
                    )
                ),
                _react2.default.createElement(KnownDeviceEditDialog, { ref: function ref(c) {
                        return _this5.editor = c;
                    }, onApply: function onApply(d) {
                        return _this5.handleEditorApply(d);
                    } }),
                _react2.default.createElement(_widgetwizzard.WidgetWizzard, { ref: function ref(c) {
                        return _this5.widgetWizzard = c;
                    } })
            );
        }
    }]);

    return KnownDeviceView;
}(_react2.default.Component);

var UnknownDeviceView = exports.UnknownDeviceView = function (_React$Component3) {
    _inherits(UnknownDeviceView, _React$Component3);

    function UnknownDeviceView(props) {
        _classCallCheck(this, UnknownDeviceView);

        var _this6 = _possibleConstructorReturn(this, (UnknownDeviceView.__proto__ || Object.getPrototypeOf(UnknownDeviceView)).call(this));

        _this6.state = {
            pinDialog: false,
            pincode: '',
            name: props.device.name
        };
        return _this6;
    }

    _createClass(UnknownDeviceView, [{
        key: 'handleAuthAction',
        value: function handleAuthAction() {
            if (this.state.pincode !== '') {
                this.props.device.pincode = this.state.pincode;
                this.setState({ pinDialog: false });
                _api2.default.authorizeDevice({ id: this.props.device.id, pincode: this.state.pincode, name: this.state.name });
            }
        }
    }, {
        key: 'handleResetPincode',
        value: function handleResetPincode() {
            _api2.default.authorizeDevice({ id: this.props.device.id, pincode: '' });
            console.log('Pin reset');
            this.props.device.pincode = null;
            this.setState({ pincode: '' });
        }
    }, {
        key: 'handleAuthCancel',
        value: function handleAuthCancel() {

            this.setState({ pinDialog: false });
        }
    }, {
        key: 'handlePincodeChange',
        value: function handlePincodeChange(v) {
            this.setState({ pincode: v });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this7 = this;

            var authDialogActions = [{ icon: 'check', label: 'Authorize', onClick: function onClick() {
                    return _this7.handleAuthAction();
                } }, { icon: 'close', label: 'Cancel', onClick: function onClick() {
                    return _this7.handleAuthCancel();
                } }];
            var ActionsPane = this.props.device.pincode ? _react2.default.createElement(
                'div',
                { style: { width: '100%' } },
                _react2.default.createElement(
                    'h4',
                    null,
                    'Trying to authorize '
                ),
                _react2.default.createElement(_progress_bar2.default, { type: 'linear', mode: 'indeterminate', multicolor: true }),
                _react2.default.createElement(_reactToolbox.Button, { label: 'Cancel', onClick: function onClick() {
                        return _this7.handleResetPincode();
                    } })
            ) : _react2.default.createElement(_reactToolbox.Button, { label: 'Authorize', onClick: function onClick() {
                    return _this7.setState({ pinDialog: true });
                } });
            return _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_card.CardTitle, { title: this.props.device.devSerial, subtitle: this.props.device.id }),
                _react2.default.createElement(
                    _list.List,
                    null,
                    _react2.default.createElement(_list.ListItem, { caption: 'Serial', legend: this.props.device.devSerial }),
                    _react2.default.createElement(_list.ListItem, { caption: 'Profile', legend: this.props.device.devClass })
                ),
                _react2.default.createElement(
                    _card.CardActions,
                    null,
                    ActionsPane
                ),
                _react2.default.createElement(
                    _dialog2.default,
                    { active: this.state.pinDialog,
                        actions: authDialogActions,
                        title: 'Auth device',
                        onOverlayClick: function onOverlayClick() {
                            return _this7.handleAuthCancel();
                        },
                        onEscKeyDown: function onEscKeyDown() {
                            return _this7.handleAuthCancel();
                        } },
                    _react2.default.createElement(_reactToolbox.Input, { label: 'Device name', value: this.state.name, onChange: function onChange(v) {
                            return _this7.setState({ name: v });
                        } }),
                    _react2.default.createElement(_reactToolbox.Input, { label: 'Pincode', value: this.state.pincode, onChange: function onChange(v) {
                            return _this7.handlePincodeChange(v);
                        }, required: true })
                )
            );
        }
    }]);

    return UnknownDeviceView;
}(_react2.default.Component);

/***/ }),

/***/ "./src_admin/devices/device-authorizer.js":
/* no static exports found */
/* all exports used */
/*!************************************************!*\
  !*** ./src_admin/devices/device-authorizer.js ***!
  \************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DeviceAuthorized = function (_React$Component) {
    _inherits(DeviceAuthorized, _React$Component);

    function DeviceAuthorized() {
        _classCallCheck(this, DeviceAuthorized);

        var _this = _possibleConstructorReturn(this, (DeviceAuthorized.__proto__ || Object.getPrototypeOf(DeviceAuthorized)).call(this));

        _this.active = false;
        _this.actions = [{ label: 'Cancel', icon: 'close', onClick: function onClick() {
                return _this.handleCancelClick();
            } }, { label: 'Save', icon: 'done', onClick: function onClick() {
                return _this.handleApplyClick();
            }, raised: true, primary: true }];
        _this.state = {
            device: {
                name: '',
                pincode: ''
            },
            errors: {}
        };
        return _this;
    }

    _createClass(DeviceAuthorized, [{
        key: 'authorizeDevice',
        value: function authorizeDevice(device) {
            var _this2 = this;

            return new Promise(function (resolve, reject) {
                _this2.setState({ device: _extends({}, device, { pincode: device.pincode || '' }) });
                _this2.resolve = resolve;
                _this2.reject = reject;
                _this2.active = true;
            });
        }
    }, {
        key: 'handleApplyClick',
        value: function handleApplyClick() {

            if (!this.state.device.name) {
                var errors = _extends({}, this.state.errors, { name: 'Must not empty' });
                this.setState({ errors: errors });
                return;
            }
            if (!this.state.device.pincode) {
                var _errors = _extends({}, this.state.errors, { pincode: 'Must not empty' });
                this.setState({ errors: _errors });
                return;
            }
            this.resolve(_extends({}, this.state.device));
            this.active = false;
            this.setState({});
        }
    }, {
        key: 'handleCancelClick',
        value: function handleCancelClick() {
            this.active = false;
            this.setState({});
            this.reject();
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            return _react2.default.createElement(
                _reactToolbox.Dialog,
                { active: this.active,
                    actions: this.actions,
                    title: 'Authorize device ' + this.state.name },
                _react2.default.createElement(_reactToolbox.Input, { type: 'text', label: 'Device name', value: this.state.device.name, onChange: function onChange(name) {
                        return _this3.setState({ errors: {}, device: _extends({}, _this3.state.device, { name: name }) });
                    }, error: this.state.errors.name, required: true }),
                _react2.default.createElement(_reactToolbox.Input, { type: 'text', label: 'Pincode', value: this.state.device.pincode, onChange: function onChange(pincode) {
                        return _this3.setState({ errors: {}, device: _extends({}, _this3.state.device, { pincode: pincode }) });
                    }, error: this.state.errors.pincode, required: true })
            );
        }
    }]);

    return DeviceAuthorized;
}(_react2.default.Component);

exports.default = DeviceAuthorized;

/***/ }),

/***/ "./src_admin/devices/device-profile-view.js":
/* no static exports found */
/* all exports used */
/*!**************************************************!*\
  !*** ./src_admin/devices/device-profile-view.js ***!
  \**************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _profileView = __webpack_require__(/*! ./profile-view */ "./src_admin/devices/profile-view.js");

var _profileView2 = _interopRequireDefault(_profileView);

var _profileView3 = __webpack_require__(/*! ./profile-view.css */ "./src_admin/devices/profile-view.css");

var _profileView4 = _interopRequireDefault(_profileView3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DevicePorfileView = function (_React$Component) {
    _inherits(DevicePorfileView, _React$Component);

    function DevicePorfileView() {
        _classCallCheck(this, DevicePorfileView);

        var _this = _possibleConstructorReturn(this, (DevicePorfileView.__proto__ || Object.getPrototypeOf(DevicePorfileView)).call(this));

        _this.active = false;
        _this.actions = [{ label: 'Cancel', icon: 'close', onClick: function onClick() {
                return _this.handleCancelClick();
            } }, { label: 'Save', icon: 'done', onClick: function onClick() {
                return _this.handleApplyClick();
            }, raised: true, primary: true }];
        _this.tabIndex = 0;
        _this.state = {
            device: {}
        };
        return _this;
    }

    _createClass(DevicePorfileView, [{
        key: 'handleApplyClick',
        value: function handleApplyClick() {
            this.resolve(_extends({}, this.state.device));
            this.active = false;
            this.setState({});
        }
    }, {
        key: 'handleCancelClick',
        value: function handleCancelClick() {
            this.active = false;
            this.setState({});
            this.reject();
        }
    }, {
        key: 'view',
        value: function view(device) {
            var _this2 = this;

            return new Promise(function (resolve, reject) {
                _this2.resolve = resolve;
                _this2.reject = reject;
                _this2.active = true;
                _this2.setState({ device: device });
            });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            return _react2.default.createElement(
                _reactToolbox.Dialog,
                { active: this.active,
                    actions: this.actions,
                    type: 'large'
                },
                _react2.default.createElement(
                    _reactToolbox.Tabs,
                    { index: this.tabIndex, onChange: function onChange(index) {
                            _this3.tabIndex = index;_this3.setState({});
                        }, fixed: true },
                    _react2.default.createElement(
                        _reactToolbox.Tab,
                        { label: 'Device data', icon: 'mode_edit' },
                        _react2.default.createElement(_reactToolbox.Input, { type: 'text', label: 'Device name', value: this.state.device.name, onChange: function onChange(v) {
                                return _this3.setState({ device: _extends({}, _this3.state.device, { name: v }) });
                            }, required: true })
                    ),
                    _react2.default.createElement(
                        _reactToolbox.Tab,
                        { label: 'Profile', icon: 'settings_input_composite' },
                        _react2.default.createElement(_profileView2.default, { profile: this.state.device.profile, values: this.state.device.values, deviceId: this.state.device.id, className: _profileView4.default.scroll })
                    ),
                    _react2.default.createElement(_reactToolbox.Tab, { label: 'Scripts', icon: 'code' })
                )
            );
        }
    }]);

    return DevicePorfileView;
}(_react2.default.Component);

exports.default = DevicePorfileView;

/***/ }),

/***/ "./src_admin/devices/devices-style.css":
/* no static exports found */
/* all exports used */
/*!*********************************************!*\
  !*** ./src_admin/devices/devices-style.css ***!
  \*********************************************/
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !../../~/css-loader??ref--2-1!../../~/postcss-loader/lib!./devices-style.css */ "./node_modules/css-loader/index.js?{\"modules\":true,\"sourceMap\":true,\"localIdentName\":\"[name]__[local]--[hash:base64:8]\"}!./node_modules/postcss-loader/lib/index.js!./src_admin/devices/devices-style.css");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(/*! ../../~/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/postcss-loader/lib/index.js!./devices-style.css", function() {
			var newContent = require("!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/postcss-loader/lib/index.js!./devices-style.css");
			if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./src_admin/devices/devices.js":
/* no static exports found */
/* all exports used */
/*!**************************************!*\
  !*** ./src_admin/devices/devices.js ***!
  \**************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Devices = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

var _eventbus = __webpack_require__(/*! eventbus */ "./lib/eventbus/index.js");

var _eventbus2 = _interopRequireDefault(_eventbus);

var _api = __webpack_require__(/*! ../api/ */ "./src_admin/api/index.js");

var _api2 = _interopRequireDefault(_api);

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _menu = __webpack_require__(/*! react-toolbox/lib/menu */ "./node_modules/react-toolbox/lib/menu/index.js");

var _card = __webpack_require__(/*! react-toolbox/lib/card */ "./node_modules/react-toolbox/lib/card/index.js");

var _cardview = __webpack_require__(/*! ./cardview */ "./src_admin/devices/cardview.js");

var _devicesStyle = __webpack_require__(/*! ./devices-style */ "./src_admin/devices/devices-style.css");

var _devicesStyle2 = _interopRequireDefault(_devicesStyle);

var _deviceAuthorizer = __webpack_require__(/*! ./device-authorizer */ "./src_admin/devices/device-authorizer.js");

var _deviceAuthorizer2 = _interopRequireDefault(_deviceAuthorizer);

var _deviceProfileView = __webpack_require__(/*! ./device-profile-view */ "./src_admin/devices/device-profile-view.js");

var _deviceProfileView2 = _interopRequireDefault(_deviceProfileView);

var _widgetwizzard = __webpack_require__(/*! ./wizzard/widgetwizzard */ "./src_admin/devices/wizzard/widgetwizzard.js");

var _theme = __webpack_require__(/*! ./theme.scss */ "./src_admin/devices/theme.scss");

var _theme2 = _interopRequireDefault(_theme);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Devices = exports.Devices = function (_React$Component) {
    _inherits(Devices, _React$Component);

    function Devices() {
        _classCallCheck(this, Devices);

        var _this = _possibleConstructorReturn(this, (Devices.__proto__ || Object.getPrototypeOf(Devices)).call(this));

        _this.state = {
            devices: []
        };
        return _this;
    }

    _createClass(Devices, [{
        key: 'componentWillMount',
        value: function componentWillMount() {
            var _this2 = this;

            _api2.default.devices.list().then(function (devices) {
                _this2.setState({ devices: devices });
            });
            this.removeSub = _eventbus2.default.subscribe('/device/removed', function (device) {
                _this2.removeDevice(device);
            });
            this.updateSub = _eventbus2.default.subscribe('/device/updated', function (device) {
                _this2.updateDevice(device);
            });
            this.sensorSub = _eventbus2.default.subscribe('/device/sensor/value', function (v) {
                var devices = _this2.state.devices;
                var device = devices.find(function (d) {
                    return d.id == v.deviceId;
                });
                if (device) {
                    if (!device.values) device.values = {};
                    device.values[v.sensorId] = v.value;
                    _this2.setState({});
                }
            });
        }
    }, {
        key: 'componentWillUnmount',
        value: function componentWillUnmount() {
            this.removeSub();
            this.updateSub();
            this.sensorSub();
        }
    }, {
        key: 'removeDevice',
        value: function removeDevice(device) {
            var devices = this.state.devices.copyWithin();
            var index = devices.findIndex(function (d) {
                return d._id == device._id;
            });
            if (index > -1) {
                devices.splice(index, 1);
                this.setState({ devices: devices });
            }
        }
    }, {
        key: 'updateDevice',
        value: function updateDevice(dev) {
            var device = {};
            Object.keys(dev).forEach(function (key) {
                if (dev[key] !== null) device[key] = dev[key];
            });
            var devices = this.state.devices.copyWithin();
            var index = devices.findIndex(function (d) {
                return d._id == device._id;
            });
            if (index > -1) {
                Object.assign(devices[index], device);
            } else {
                devices.push(device);
            }
            this.setState({ devices: devices });
        }
    }, {
        key: 'handleAppMenuClick',
        value: function handleAppMenuClick() {
            this.props.onMenuClick ? this.props.onMenuClick() : null;
        }
    }, {
        key: 'handleDeviceEdit',
        value: function handleDeviceEdit(device) {
            var _this3 = this;

            var promise = device.pincode == null ? this.authorizer.authorizeDevice(device) : this.viewer.view(device);

            promise.then(_api2.default.devices.save).then(function (device) {
                _this3.updateDevice(device);
            });
        }
    }, {
        key: 'handleDeviceForget',
        value: function handleDeviceForget(device) {
            var _this4 = this;

            _api2.default.devices.remove(device).then(function () {
                _this4.removeDevice(device);
            });
        }
    }, {
        key: 'handleMakeWidget',
        value: function handleMakeWidget(device) {
            this.widgetWizzard.start(device);
        }
    }, {
        key: 'render',
        value: function render() {
            var _this5 = this;

            return _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactToolbox.AppBar, { theme: _theme2.default, title: 'Devices', leftIcon: 'menu', onLeftIconClick: function onLeftIconClick() {
                        return _this5.handleAppMenuClick();
                    } }),
                _react2.default.createElement(
                    _list.List,
                    { selectable: true },
                    this.state.devices.map(function (d, k) {
                        var menuItems = [];
                        var leftIcon = null;
                        if (d.connectionStatus == 'DISCOVERED') {
                            if (d.pincode == null) {
                                menuItems.push(_react2.default.createElement(_menu.MenuItem, { key: 'authorize_device', caption: 'Authorize', icon: 'vpn_key', onClick: function onClick() {
                                        return _this5.handleDeviceEdit(d);
                                    } }));
                            } else {
                                menuItems.push(_react2.default.createElement(_menu.MenuItem, { key: 'reset_authorization', caption: 'Edit', icon: 'mode_edit', onClick: function onClick() {
                                        return _this5.handleDeviceEdit(d);
                                    } }));
                                leftIcon = _react2.default.createElement(_reactToolbox.ProgressBar, { className: _devicesStyle2.default.device_auth_progress, type: 'circular' });
                            }
                        }

                        if (d.connectionStatus == 'ONLINE' || d.connectionStatus == 'OFFLINE') {
                            menuItems.push(_react2.default.createElement(_menu.MenuItem, { key: 'edit_device', caption: 'Edit', icon: 'mode_edit' }));
                            menuItems.push(_react2.default.createElement(_menu.MenuItem, { key: 'make_widget', caption: 'Make widget', icon: 'library_add', onClick: function onClick() {
                                    return _this5.handleMakeWidget(d);
                                } }));

                            var avatarClass = d.connectionStatus == 'ONLINE' ? _theme2.default.avatarOnline : _theme2.default.avatarOffline;
                            leftIcon = _react2.default.createElement(_reactToolbox.Avatar, { className: avatarClass, title: d.name });
                        }

                        menuItems.push(_react2.default.createElement(_menu.MenuItem, { key: 'forget_device', caption: 'Forget', icon: 'delete_forever', onClick: function onClick() {
                                return _this5.handleDeviceForget(d);
                            } }));
                        var menu = _react2.default.createElement(
                            _menu.IconMenu,
                            { icon: 'more_vert', onClick: function onClick(e) {
                                    return e.stopPropagation();
                                } },
                            menuItems
                        );

                        return _react2.default.createElement(_list.ListItem, { key: k, caption: d.name, legend: 'Profile: ' + d.devClass + ' Serial:' + d.devSerial, leftIcon: leftIcon, rightIcon: menu, onClick: function onClick() {
                                return _this5.handleDeviceEdit(d);
                            } });
                    })
                ),
                _react2.default.createElement(_deviceAuthorizer2.default, { ref: function ref(c) {
                        return _this5.authorizer = c;
                    } }),
                _react2.default.createElement(_deviceProfileView2.default, { ref: function ref(c) {
                        return _this5.viewer = c;
                    } }),
                _react2.default.createElement(_widgetwizzard.WidgetWizzard, { ref: function ref(c) {
                        return _this5.widgetWizzard = c;
                    } })
            );
        }
    }]);

    return Devices;
}(_react2.default.Component);

/***/ }),

/***/ "./src_admin/devices/profile-view.css":
/* no static exports found */
/* all exports used */
/*!********************************************!*\
  !*** ./src_admin/devices/profile-view.css ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !../../~/css-loader??ref--2-1!../../~/postcss-loader/lib!./profile-view.css */ "./node_modules/css-loader/index.js?{\"modules\":true,\"sourceMap\":true,\"localIdentName\":\"[name]__[local]--[hash:base64:8]\"}!./node_modules/postcss-loader/lib/index.js!./src_admin/devices/profile-view.css");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(/*! ../../~/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/postcss-loader/lib/index.js!./profile-view.css", function() {
			var newContent = require("!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/postcss-loader/lib/index.js!./profile-view.css");
			if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./src_admin/devices/profile-view.js":
/* no static exports found */
/* all exports used */
/*!*******************************************!*\
  !*** ./src_admin/devices/profile-view.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _components = __webpack_require__(/*! ../components */ "./src_admin/components/index.js");

var _profileView = __webpack_require__(/*! ./profile-view.css */ "./src_admin/devices/profile-view.css");

var _profileView2 = _interopRequireDefault(_profileView);

var _eventbus = __webpack_require__(/*! eventbus */ "./lib/eventbus/index.js");

var _eventbus2 = _interopRequireDefault(_eventbus);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SensorsView = function (_React$Component) {
    _inherits(SensorsView, _React$Component);

    function SensorsView() {
        _classCallCheck(this, SensorsView);

        var _this = _possibleConstructorReturn(this, (SensorsView.__proto__ || Object.getPrototypeOf(SensorsView)).call(this));

        _this.state = {};
        return _this;
    }

    _createClass(SensorsView, [{
        key: 'componentWillMount',
        value: function componentWillMount() {
            var _this2 = this;

            this.sensorSub = _eventbus2.default.subscribe('/device/sensor/value', function (v) {
                if (v.deviceId == _this2.props.deviceId) {
                    var state = {};
                    state[v.sensorId] = v.value;
                    _this2.setState(state);
                }
            });
            if (this.props.values) this.setState(this.props.values);
        }
    }, {
        key: 'componentWillUnmount',
        value: function componentWillUnmount() {
            this.sensorSub();
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            return _react2.default.createElement(
                _components.ExpandableListItem,
                { caption: 'Sensors' },
                Object.entries(this.props.sensors).map(function (s) {
                    var id = s[0];
                    var def = s[1];
                    var rightIcon = _react2.default.createElement(
                        'span',
                        null,
                        _this3.state[id]
                    );
                    return _react2.default.createElement(_list.ListItem, { key: id, caption: id, legend: def.def, rightIcon: rightIcon });
                })
            );
        }
    }]);

    return SensorsView;
}(_react2.default.Component);

var TriggersView = function (_React$Component2) {
    _inherits(TriggersView, _React$Component2);

    function TriggersView() {
        _classCallCheck(this, TriggersView);

        return _possibleConstructorReturn(this, (TriggersView.__proto__ || Object.getPrototypeOf(TriggersView)).apply(this, arguments));
    }

    _createClass(TriggersView, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                _components.ExpandableListItem,
                { caption: 'Triggers' },
                Object.entries(this.props.triggers).map(function (t) {
                    var id = t[0];
                    var def = t[1];
                    return _react2.default.createElement(_list.ListItem, { key: id, caption: id, legend: def.def });
                })
            );
        }
    }]);

    return TriggersView;
}(_react2.default.Component);

var ProfileView = function (_React$Component3) {
    _inherits(ProfileView, _React$Component3);

    function ProfileView() {
        _classCallCheck(this, ProfileView);

        return _possibleConstructorReturn(this, (ProfileView.__proto__ || Object.getPrototypeOf(ProfileView)).apply(this, arguments));
    }

    _createClass(ProfileView, [{
        key: 'componentWillMount',
        value: function componentWillMount() {
            console.log('MOUNT');
        }
    }, {
        key: 'componentWillUnmount',
        value: function componentWillUnmount() {
            console.log('UNMOUNT');
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                _list.List,
                { className: _profileView2.default.scroll },
                _react2.default.createElement(SensorsView, { sensors: this.props.profile.sensors, values: this.props.values, deviceId: this.props.deviceId }),
                _react2.default.createElement(TriggersView, { triggers: this.props.profile.triggers })
            );
        }
    }]);

    return ProfileView;
}(_react2.default.Component);

exports.default = ProfileView;

/***/ }),

/***/ "./src_admin/devices/styles.css":
/* no static exports found */
/* all exports used */
/*!**************************************!*\
  !*** ./src_admin/devices/styles.css ***!
  \**************************************/
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !../../~/css-loader??ref--2-1!../../~/postcss-loader/lib!./styles.css */ "./node_modules/css-loader/index.js?{\"modules\":true,\"sourceMap\":true,\"localIdentName\":\"[name]__[local]--[hash:base64:8]\"}!./node_modules/postcss-loader/lib/index.js!./src_admin/devices/styles.css");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(/*! ../../~/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/postcss-loader/lib/index.js!./styles.css", function() {
			var newContent = require("!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/postcss-loader/lib/index.js!./styles.css");
			if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./src_admin/devices/theme.scss":
/* no static exports found */
/* all exports used */
/*!**************************************!*\
  !*** ./src_admin/devices/theme.scss ***!
  \**************************************/
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !../../~/css-loader??ref--2-1!../../~/postcss-loader/lib!./theme.scss */ "./node_modules/css-loader/index.js?{\"modules\":true,\"sourceMap\":true,\"localIdentName\":\"[name]__[local]--[hash:base64:8]\"}!./node_modules/postcss-loader/lib/index.js!./src_admin/devices/theme.scss");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(/*! ../../~/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/postcss-loader/lib/index.js!./theme.scss", function() {
			var newContent = require("!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/postcss-loader/lib/index.js!./theme.scss");
			if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./src_admin/devices/wizzard/step-complete.js":
/* no static exports found */
/* all exports used */
/*!****************************************************!*\
  !*** ./src_admin/devices/wizzard/step-complete.js ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.StepComplete = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

var _api = __webpack_require__(/*! ../../api */ "./src_admin/api.js");

var _api2 = _interopRequireDefault(_api);

var _wizzardStyle = __webpack_require__(/*! ./wizzard-style */ "./src_admin/devices/wizzard/wizzard-style.css");

var _wizzardStyle2 = _interopRequireDefault(_wizzardStyle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var StepComplete = exports.StepComplete = function (_React$Component) {
    _inherits(StepComplete, _React$Component);

    function StepComplete() {
        _classCallCheck(this, StepComplete);

        return _possibleConstructorReturn(this, (StepComplete.__proto__ || Object.getPrototypeOf(StepComplete)).apply(this, arguments));
    }

    _createClass(StepComplete, [{
        key: 'render',
        value: function render() {
            var cfg = JSON.stringify(this.props.config);
            return _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(
                    'h1',
                    null,
                    'Congratulations!'
                ),
                _react2.default.createElement(
                    'h3',
                    null,
                    'Widget has been added to dashboard'
                ),
                _react2.default.createElement(_reactToolbox.FontIcon, { className: _wizzardStyle2.default.congratulationIcon, value: 'thumb_up' })
            );
        }
    }]);

    return StepComplete;
}(_react2.default.Component);

StepComplete.isFinal = true;

/***/ }),

/***/ "./src_admin/devices/wizzard/step1.js":
/* no static exports found */
/* all exports used */
/*!********************************************!*\
  !*** ./src_admin/devices/wizzard/step1.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Step1 = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _api = __webpack_require__(/*! ../../api */ "./src_admin/api.js");

var _api2 = _interopRequireDefault(_api);

var _step = __webpack_require__(/*! ./step2 */ "./src_admin/devices/wizzard/step2.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Step1 = exports.Step1 = function (_React$Component) {
    _inherits(Step1, _React$Component);

    function Step1(props) {
        _classCallCheck(this, Step1);

        var _this = _possibleConstructorReturn(this, (Step1.__proto__ || Object.getPrototypeOf(Step1)).call(this));

        _this.state = {
            widgets: [{ class: 'default', title: 'Default' }]
        };

        return _this;
    }

    _createClass(Step1, [{
        key: 'handleNext',
        value: function handleNext() {
            if (this.state.selected) {
                this.props.config.class = this.state.selected.class;
                if (this.state.selected.class == 'default') {
                    this.props.config.config = {};
                    return _step.Step2;
                } else {
                    return Step2Custom;
                }
            }
        }
    }, {
        key: 'componentWillMount',
        value: function componentWillMount() {
            var _this2 = this;

            _api2.default.getWidgetClasses(this.props.device.devClass).then(function (classes) {
                var widgets = _this2.state.widgets;
                var selected = _this2.state.selected;

                classes.forEach(function (c) {
                    return widgets.push(c);
                });
                if (!selected) selected = widgets[0];
                _this2.setState({ widgets: widgets, selected: selected });
            });
        }
    }, {
        key: 'handleWidgetSelect',
        value: function handleWidgetSelect(selected) {
            this.setState({ selected: selected });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            return _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(
                    'h3',
                    null,
                    'Select widget:'
                ),
                _react2.default.createElement(
                    _list.List,
                    { selectable: true },
                    this.state.widgets.map(function (w, k) {
                        var icon = w == _this3.state.selected ? 'radio_button_checked' : 'radio_button_unchecked';
                        return _react2.default.createElement(_list.ListItem, { key: k, caption: w.title, onClick: function onClick() {
                                return _this3.handleWidgetSelect(w);
                            }, rightIcon: icon });
                    })
                )
            );
        }
    }]);

    return Step1;
}(_react2.default.Component);

/***/ }),

/***/ "./src_admin/devices/wizzard/step2-1.js":
/* no static exports found */
/* all exports used */
/*!**********************************************!*\
  !*** ./src_admin/devices/wizzard/step2-1.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Step2_1 = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _step = __webpack_require__(/*! ./step3 */ "./src_admin/devices/wizzard/step3.js");

var _api = __webpack_require__(/*! ../../api */ "./src_admin/api.js");

var _api2 = _interopRequireDefault(_api);

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SensorConfigItem = function (_React$Component) {
    _inherits(SensorConfigItem, _React$Component);

    function SensorConfigItem(props) {
        _classCallCheck(this, SensorConfigItem);

        var _this = _possibleConstructorReturn(this, (SensorConfigItem.__proto__ || Object.getPrototypeOf(SensorConfigItem)).call(this));

        _this.state = _extends({}, props.sensor);
        _this.state.viewInMain = _this.state.view == 'main';
        _this._setState = _this.setState;
        _this.setState = function (state) {
            _this._setState(state);
            _this.onChange();
        };
        return _this;
    }

    _createClass(SensorConfigItem, [{
        key: 'onChange',
        value: function onChange() {
            this.props.onChange ? this.props.onChange(this.state) : null;
        }
    }, {
        key: 'render',
        value: function render() {
            var _this2 = this;

            return _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(
                    'h4',
                    null,
                    this.props.sensor.sensor
                ),
                _react2.default.createElement(_reactToolbox.Input, { label: 'Sensor title', value: this.state.title, onChange: function onChange(title) {
                        return _this2.setState({ title: title });
                    }, style: { flexGrow: '1' } }),
                _react2.default.createElement(
                    'div',
                    { style: { display: 'flex', justifyContent: 'space-between' } },
                    _react2.default.createElement(_reactToolbox.Switch, { label: 'Always', checked: this.state.viewInMain, onChange: function onChange(viewInMain) {
                            return _this2.setState({ viewInMain: viewInMain });
                        } }),
                    _react2.default.createElement(_reactToolbox.Switch, { label: 'Can show log', checked: this.state.showLog, onChange: function onChange(showLog) {
                            return _this2.setState({ showLog: showLog });
                        } })
                ),
                _react2.default.createElement(
                    'div',
                    { style: { display: 'flex', justifyContent: 'space-between' } },
                    _react2.default.createElement(_reactToolbox.Input, { label: 'ValueChar', value: this.state.char, onChange: function onChange(char) {
                            return _this2.setState({ char: char });
                        } })
                )
            );
        }
    }]);

    return SensorConfigItem;
}(_react2.default.Component);

var Step2_1 = exports.Step2_1 = function (_React$Component2) {
    _inherits(Step2_1, _React$Component2);

    function Step2_1() {
        _classCallCheck(this, Step2_1);

        return _possibleConstructorReturn(this, (Step2_1.__proto__ || Object.getPrototypeOf(Step2_1)).apply(this, arguments));
    }

    _createClass(Step2_1, [{
        key: 'handleNext',
        value: function handleNext() {
            console.log(this.props.config);
            return _step.Step3;
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { style: { overflowY: 'scroll', maxHeight: '300px' } },
                _react2.default.createElement(
                    'h3',
                    null,
                    ' Config selected sensors'
                ),
                this.props.config.config.sensors.map(function (s, i) {
                    return _react2.default.createElement(SensorConfigItem, { onChange: function onChange(newS) {
                            return Object.assign(s, newS);
                        }, sensor: s, key: i });
                })
            );
        }
    }]);

    return Step2_1;
}(_react2.default.Component);

/***/ }),

/***/ "./src_admin/devices/wizzard/step2.js":
/* no static exports found */
/* all exports used */
/*!********************************************!*\
  !*** ./src_admin/devices/wizzard/step2.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Step2 = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _step = __webpack_require__(/*! ./step3 */ "./src_admin/devices/wizzard/step3.js");

var _step2 = __webpack_require__(/*! ./step2-1 */ "./src_admin/devices/wizzard/step2-1.js");

var _api = __webpack_require__(/*! ../../api */ "./src_admin/api.js");

var _api2 = _interopRequireDefault(_api);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Step2 = exports.Step2 = function (_React$Component) {
    _inherits(Step2, _React$Component);

    function Step2() {
        _classCallCheck(this, Step2);

        var _this = _possibleConstructorReturn(this, (Step2.__proto__ || Object.getPrototypeOf(Step2)).call(this));

        _this.state = {
            selected: []
        };
        return _this;
    }

    _createClass(Step2, [{
        key: 'handleNext',
        value: function handleNext() {
            var _this2 = this;

            this.props.config.config.sensors = this.state.selected.map(function (s) {
                return {
                    title: s.name,
                    device: _this2.props.device.id,
                    sensor: s.name,
                    char: ''
                };
            });
            if (this.props.config.config.sensors.length > 0) return _step2.Step2_1;else return _step.Step3;
        }
    }, {
        key: 'toggleSensorSelect',
        value: function toggleSensorSelect(s) {
            var selected = this.state.selected;
            var i = selected.indexOf(s);
            if (i > -1) {
                selected.splice(i, 1);
            } else {
                selected.push(s);
            }
            this.setState({ selected: selected });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            return _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(
                    'h3',
                    null,
                    'Select sensors'
                ),
                _react2.default.createElement(
                    _list.List,
                    { selectable: true },
                    Object.entries(this.props.device.profile.sensors).map(function (sensor) {
                        var id = sensor[0];
                        var s = sensor[1];
                        var icon = _this3.state.selected.indexOf(s) > -1 ? 'check_box' : 'check_box_outline_blank';
                        return _react2.default.createElement(_list.ListItem, { key: id, caption: s.name, rightIcon: icon, onClick: function onClick(e) {
                                return _this3.toggleSensorSelect(s);
                            } });
                    })
                )
            );
        }
    }]);

    return Step2;
}(_react2.default.Component);

/***/ }),

/***/ "./src_admin/devices/wizzard/step3-1.js":
/* no static exports found */
/* all exports used */
/*!**********************************************!*\
  !*** ./src_admin/devices/wizzard/step3-1.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Step3_1 = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _step = __webpack_require__(/*! ./step4 */ "./src_admin/devices/wizzard/step4.js");

var _api = __webpack_require__(/*! ../../api */ "./src_admin/api.js");

var _api2 = _interopRequireDefault(_api);

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TriggerParamConfigurer = function (_React$Component) {
    _inherits(TriggerParamConfigurer, _React$Component);

    function TriggerParamConfigurer(props) {
        _classCallCheck(this, TriggerParamConfigurer);

        var _this = _possibleConstructorReturn(this, (TriggerParamConfigurer.__proto__ || Object.getPrototypeOf(TriggerParamConfigurer)).call(this));

        _this.state = _extends({}, props.param);
        return _this;
    }

    _createClass(TriggerParamConfigurer, [{
        key: 'componentWillMount',
        value: function componentWillMount() {
            var _this2 = this;

            this._setState = this.setState;
            this.setState = function (state) {
                _this2._setState(state);
                _this2.props.onChange ? _this2.props.onChange(state) : null;
            };
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            return _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactToolbox.Input, { label: 'Param title', value: this.state.title, onChange: function onChange(title) {
                        return _this3.setState({ title: title });
                    }, required: true })
            );
        }
    }]);

    return TriggerParamConfigurer;
}(_react2.default.Component);

var TriggerConfigurer = function (_React$Component2) {
    _inherits(TriggerConfigurer, _React$Component2);

    function TriggerConfigurer(props) {
        _classCallCheck(this, TriggerConfigurer);

        var _this4 = _possibleConstructorReturn(this, (TriggerConfigurer.__proto__ || Object.getPrototypeOf(TriggerConfigurer)).call(this));

        console.log(props.trigger);
        _this4._setState = _this4.setState;
        _this4.setState = function (state) {
            _this4._setState(state);
            _this4.props.onChange ? _this4.props.onChange(_this4.state) : null;
        };
        _this4.state = _extends({}, props.trigger);
        return _this4;
    }

    _createClass(TriggerConfigurer, [{
        key: 'render',
        value: function render() {
            var _this5 = this;

            return _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(
                    'b',
                    null,
                    'Trigger'
                ),
                _react2.default.createElement(_reactToolbox.Input, { label: 'Trigger label', value: this.state.title, onChange: function onChange(title) {
                        return _this5.setState({ title: title });
                    }, required: true }),
                function () {
                    if (_this5.state.params.length > 0) {
                        return _react2.default.createElement(
                            'b',
                            null,
                            'Params'
                        );
                    }
                }(),
                this.state.params.map(function (p, k) {

                    return _react2.default.createElement(TriggerParamConfigurer, { param: p, key: k, onChange: function onChange(v) {
                            return Object.assign(p, v);
                        } });
                })
            );
        }
    }]);

    return TriggerConfigurer;
}(_react2.default.Component);

var Step3_1 = exports.Step3_1 = function (_React$Component3) {
    _inherits(Step3_1, _React$Component3);

    function Step3_1() {
        _classCallCheck(this, Step3_1);

        return _possibleConstructorReturn(this, (Step3_1.__proto__ || Object.getPrototypeOf(Step3_1)).apply(this, arguments));
    }

    _createClass(Step3_1, [{
        key: 'handleNext',
        value: function handleNext() {
            return _step.Step4;
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { style: { maxHeight: '300px', overflowY: 'scroll' } },
                _react2.default.createElement(
                    'h3',
                    null,
                    'Configure triggers'
                ),
                this.props.config.config.triggers.map(function (t, k) {
                    return _react2.default.createElement(TriggerConfigurer, { trigger: t, key: k, onChange: function onChange(props) {
                            return Object.assign(t, props);
                        } });
                })
            );
        }
    }]);

    return Step3_1;
}(_react2.default.Component);

/***/ }),

/***/ "./src_admin/devices/wizzard/step3.js":
/* no static exports found */
/* all exports used */
/*!********************************************!*\
  !*** ./src_admin/devices/wizzard/step3.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Step3 = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _api = __webpack_require__(/*! ../../api */ "./src_admin/api.js");

var _api2 = _interopRequireDefault(_api);

var _step = __webpack_require__(/*! ./step4 */ "./src_admin/devices/wizzard/step4.js");

var _step2 = __webpack_require__(/*! ./step3-1 */ "./src_admin/devices/wizzard/step3-1.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Step3 = exports.Step3 = function (_React$Component) {
    _inherits(Step3, _React$Component);

    function Step3() {
        _classCallCheck(this, Step3);

        var _this = _possibleConstructorReturn(this, (Step3.__proto__ || Object.getPrototypeOf(Step3)).call(this));

        _this.state = {
            selected: []
        };
        return _this;
    }

    _createClass(Step3, [{
        key: 'handleNext',
        value: function handleNext() {
            var _this2 = this;

            this.props.config.config.triggers = this.state.selected.map(function (t) {
                return {
                    title: t.name,
                    trigger: _this2.props.device.id + '.' + t.name,
                    params: t.params.map(function (p) {
                        return { name: p.name, title: p.name };
                    })
                };
            });
            if (this.props.config.config.triggers.length > 0) return _step2.Step3_1;else return _step.Step4;
        }
    }, {
        key: 'toggleSensorSelect',
        value: function toggleSensorSelect(t) {
            var selected = this.state.selected;
            var i = selected.indexOf(t);
            if (i > -1) {
                selected.splice(i, 1);
            } else {
                selected.push(t);
            }
            this.setState({ selected: selected });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            return _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(
                    'h3',
                    null,
                    'Select triggers'
                ),
                _react2.default.createElement(
                    _list.List,
                    { selectable: true },
                    Object.entries(this.props.device.profile.triggers).map(function (trigger) {
                        var k = trigger[0];
                        var t = trigger[1];
                        var icon = _this3.state.selected.indexOf(t) > -1 ? 'check_box' : 'check_box_outline_blank';
                        return _react2.default.createElement(_list.ListItem, { key: k, caption: t.name, rightIcon: icon, onClick: function onClick(e) {
                                return _this3.toggleSensorSelect(t);
                            } });
                    })
                )
            );
        }
    }]);

    return Step3;
}(_react2.default.Component);

/***/ }),

/***/ "./src_admin/devices/wizzard/step4.js":
/* no static exports found */
/* all exports used */
/*!********************************************!*\
  !*** ./src_admin/devices/wizzard/step4.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Step4 = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

var _api = __webpack_require__(/*! ../../api */ "./src_admin/api.js");

var _api2 = _interopRequireDefault(_api);

var _step = __webpack_require__(/*! ./step5 */ "./src_admin/devices/wizzard/step5.js");

var _components = __webpack_require__(/*! ../../components */ "./src_admin/components/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Step4 = exports.Step4 = function (_React$Component) {
    _inherits(Step4, _React$Component);

    function Step4(props) {
        _classCallCheck(this, Step4);

        var _this = _possibleConstructorReturn(this, (Step4.__proto__ || Object.getPrototypeOf(Step4)).call(this));

        _this.state = {
            label: props.device.devSerial,
            description: props.device.devClass,
            icon: 'extension'
        };
        return _this;
    }

    _createClass(Step4, [{
        key: 'handleNext',
        value: function handleNext() {
            Object.assign(this.props.config, _extends({}, this.state));
            return _step.Step5;
        }
    }, {
        key: 'render',
        value: function render() {
            var _this2 = this;

            return _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(
                    'h3',
                    null,
                    'Config widget'
                ),
                _react2.default.createElement(_reactToolbox.Input, { label: 'Widget title', value: this.state.label, onChange: function onChange(label) {
                        return _this2.setState({ label: label });
                    }, required: true }),
                _react2.default.createElement(_reactToolbox.Input, { label: 'Widget subtitle', value: this.state.description, onChange: function onChange(description) {
                        return _this2.setState({ description: description });
                    }, required: true }),
                _react2.default.createElement(_components.IconSelector, { label: 'Widget icon', value: this.state.icon, onChange: function onChange(icon) {
                        return _this2.setState({ icon: icon });
                    } })
            );
        }
    }]);

    return Step4;
}(_react2.default.Component);

/***/ }),

/***/ "./src_admin/devices/wizzard/step5.js":
/* no static exports found */
/* all exports used */
/*!********************************************!*\
  !*** ./src_admin/devices/wizzard/step5.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Step5 = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _api = __webpack_require__(/*! ../../api/ */ "./src_admin/api/index.js");

var _api2 = _interopRequireDefault(_api);

var _stepComplete = __webpack_require__(/*! ./step-complete */ "./src_admin/devices/wizzard/step-complete.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Step5 = exports.Step5 = function (_React$Component) {
    _inherits(Step5, _React$Component);

    function Step5() {
        _classCallCheck(this, Step5);

        var _this = _possibleConstructorReturn(this, (Step5.__proto__ || Object.getPrototypeOf(Step5)).call(this));

        _this.state = {
            dashboards: [],
            selected: []
        };
        _api2.default.dashboards.list().then(function (dashboards) {
            return _this.setState({ dashboards: dashboards });
        });
        return _this;
    }

    _createClass(Step5, [{
        key: 'handleNext',
        value: function handleNext() {
            var _this2 = this;

            var dashboards = this.state.selected.map(function (k) {
                return _this2.state.dashboards[k]._id;
            });
            this.props.config.dashboards = dashboards;
            //Api.appendWidget(dashboards,this.props.config);
            _api2.default.widgets.save(this.props.config);
            return _stepComplete.StepComplete;
        }
    }, {
        key: 'title',
        value: function title() {
            return 'Select dashboards';
        }
    }, {
        key: 'handleDashboardSelect',
        value: function handleDashboardSelect(k) {
            var selected = this.state.selected;
            var i = selected.indexOf(k);
            if (i > -1) {
                selected.splice(i, 1);
            } else {
                selected.push(k);
            }
            this.setState({ selected: selected });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            return _react2.default.createElement(
                _list.List,
                { selectable: true },
                this.state.dashboards.map(function (d, i) {
                    var rightIcon = _this3.state.selected.indexOf(i) > -1 ? 'check_box' : 'check_box_outline_blank';
                    return _react2.default.createElement(_list.ListItem, { key: i, leftIcon: d.icon, caption: d.title, rightIcon: rightIcon, onClick: function onClick() {
                            return _this3.handleDashboardSelect(i);
                        } });
                })
            );
        }
    }]);

    return Step5;
}(_react2.default.Component);

/***/ }),

/***/ "./src_admin/devices/wizzard/widgetwizzard.js":
/* no static exports found */
/* all exports used */
/*!****************************************************!*\
  !*** ./src_admin/devices/wizzard/widgetwizzard.js ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.WidgetWizzard = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _api = __webpack_require__(/*! ../../api */ "./src_admin/api.js");

var _api2 = _interopRequireDefault(_api);

var _dialog = __webpack_require__(/*! react-toolbox/lib/dialog */ "./node_modules/react-toolbox/lib/dialog/index.js");

var _dialog2 = _interopRequireDefault(_dialog);

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _wizzardStyle = __webpack_require__(/*! ./wizzard-style */ "./src_admin/devices/wizzard/wizzard-style.css");

var _wizzardStyle2 = _interopRequireDefault(_wizzardStyle);

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

var _components = __webpack_require__(/*! ../../components */ "./src_admin/components/index.js");

var _step = __webpack_require__(/*! ./step1 */ "./src_admin/devices/wizzard/step1.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }
// import FontIcon from 'react-toolbox/lib/font_icon';


var Step2Custom = function (_React$Component) {
    _inherits(Step2Custom, _React$Component);

    function Step2Custom(props) {
        _classCallCheck(this, Step2Custom);

        return _possibleConstructorReturn(this, (Step2Custom.__proto__ || Object.getPrototypeOf(Step2Custom)).call(this));
    }

    _createClass(Step2Custom, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                null,
                'Step2Custom'
            );
        }
    }]);

    return Step2Custom;
}(_react2.default.Component);

//Select name and icon


//Select triggers step

//Select sensors step

// Select widget class

var WidgetWizzard = exports.WidgetWizzard = function (_React$Component2) {
    _inherits(WidgetWizzard, _React$Component2);

    function WidgetWizzard() {
        _classCallCheck(this, WidgetWizzard);

        var _this2 = _possibleConstructorReturn(this, (WidgetWizzard.__proto__ || Object.getPrototypeOf(WidgetWizzard)).call(this));

        _this2.state = {
            active: false,
            step: 1
        };
        _this2.actions = [{ label: 'Cancel', icon: 'cancel', onClick: function onClick() {
                return _this2.handleCancelClick();
            } }, { label: 'Next', icon: 'navigate_next', onClick: function onClick() {
                return _this2.handleNextClick(_this2.state.step + 1);
            } }];
        return _this2;
    }

    _createClass(WidgetWizzard, [{
        key: 'handleCancelClick',
        value: function handleCancelClick() {
            this.setState({ device: null, active: false });
        }
    }, {
        key: 'handleNextClick',
        value: function handleNextClick(step) {
            //this.setState({step});
            if (this.step && this.step.handleNext) {
                var nextStep = this.step.handleNext();
                if (nextStep) {
                    this.setState({ step: nextStep });
                }
            }
        }
    }, {
        key: 'start',
        value: function start(device) {
            this.setState({ device: device, active: true, step: _step.Step1, config: {} });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            var Step = this.state.step;
            var actions = Step.isFinal ? [{ icon: 'done_all', label: 'Done', onClick: function onClick() {
                    return _this3.handleCancelClick();
                } }] : this.actions;
            if (this.state.device) return _react2.default.createElement(
                _dialog2.default,
                { active: this.state.active, title: this.state.device.name, actions: actions },
                _react2.default.createElement(Step, { ref: function ref(e) {
                        return _this3.step = e;
                    }, device: this.state.device, config: this.state.config })
            );else return null;
        }
    }]);

    return WidgetWizzard;
}(_react2.default.Component);

/***/ }),

/***/ "./src_admin/devices/wizzard/wizzard-style.css":
/* no static exports found */
/* all exports used */
/*!*****************************************************!*\
  !*** ./src_admin/devices/wizzard/wizzard-style.css ***!
  \*****************************************************/
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !../../../~/css-loader??ref--2-1!../../../~/postcss-loader/lib!./wizzard-style.css */ "./node_modules/css-loader/index.js?{\"modules\":true,\"sourceMap\":true,\"localIdentName\":\"[name]__[local]--[hash:base64:8]\"}!./node_modules/postcss-loader/lib/index.js!./src_admin/devices/wizzard/wizzard-style.css");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(/*! ../../../~/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/postcss-loader/lib/index.js!./wizzard-style.css", function() {
			var newContent = require("!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/postcss-loader/lib/index.js!./wizzard-style.css");
			if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./src_admin/users/groupslist.js":
/* no static exports found */
/* all exports used */
/*!***************************************!*\
  !*** ./src_admin/users/groupslist.js ***!
  \***************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.GroupsList = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

var _menu = __webpack_require__(/*! react-toolbox/lib/menu */ "./node_modules/react-toolbox/lib/menu/index.js");

var _api = __webpack_require__(/*! ../api */ "./src_admin/api.js");

var _api2 = _interopRequireDefault(_api);

var _components = __webpack_require__(/*! ../components */ "./src_admin/components/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var GroupEditor = function (_React$Component) {
    _inherits(GroupEditor, _React$Component);

    function GroupEditor() {
        _classCallCheck(this, GroupEditor);

        var _this = _possibleConstructorReturn(this, (GroupEditor.__proto__ || Object.getPrototypeOf(GroupEditor)).call(this));

        _this.state = {};
        _this.actions = [{ icon: 'done', label: 'Save', onClick: function onClick() {
                return _this.handleSaveClick();
            } }, { icon: 'close', label: 'Cancel', onClick: function onClick() {
                return _this.handleCancelClick();
            } }];
        _this.active = false;
        _this.users = [];
        return _this;
    }

    _createClass(GroupEditor, [{
        key: 'edit',
        value: function edit(group) {
            var _this2 = this;

            return new Promise(function (resolve, reject) {
                _this2.$resolve = resolve;
                _this2.$reject = reject;
                _this2.title = group._id ? 'Edit group ' + group.name : 'Create group';
                _this2.active = true;
                _this2.setState(_extends({}, group));
            });
        }
    }, {
        key: 'handleSaveClick',
        value: function handleSaveClick() {
            var group = _extends({}, this.state);
            delete group.active;
            this.$resolve(group);
            this.active = false;
            this.setState({});
        }
    }, {
        key: 'handleCancelClick',
        value: function handleCancelClick() {
            this.active = false;
            this.setState({});
            this.$reject();
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            return _react2.default.createElement(
                _reactToolbox.Dialog,
                { active: this.active,
                    actions: this.actions,
                    title: this.title
                },
                _react2.default.createElement(_reactToolbox.Input, { label: 'Group name', value: this.state.name, onChange: function onChange(name) {
                        return _this3.setState({ name: name });
                    }, required: true }),
                _react2.default.createElement(_reactToolbox.Switch, { label: 'Group enabled', checked: this.state.enabled, onChange: function onChange(enabled) {
                        return _this3.setState({ enabled: enabled });
                    } })
            );
        }
    }]);

    return GroupEditor;
}(_react2.default.Component);

var GroupsList = exports.GroupsList = function (_React$Component2) {
    _inherits(GroupsList, _React$Component2);

    function GroupsList() {
        _classCallCheck(this, GroupsList);

        var _this4 = _possibleConstructorReturn(this, (GroupsList.__proto__ || Object.getPrototypeOf(GroupsList)).call(this));

        _this4.state = {
            groups: []
        };
        return _this4;
    }

    _createClass(GroupsList, [{
        key: 'componentWillMount',
        value: function componentWillMount() {
            var _this5 = this;

            _api2.default.groups.getGroups().then(function (groups) {
                return _this5.setState({ groups: groups });
            });
        }
    }, {
        key: 'addGroup',
        value: function addGroup() {
            var _this6 = this;

            this.editor.edit({ name: '', enabled: true }).then(function (group) {
                return _api2.default.saveGroup(group);
            }).then(function (group) {
                var groups = _this6.state.groups;
                groups.push(group);
                _this6.setState({ groups: groups });
            });
        }
    }, {
        key: 'handleEditGroup',
        value: function handleEditGroup(group) {
            var _this7 = this;

            this.editor.edit(group).then(function (group) {
                return _api2.default.groups.saveGroup(group);
            }).then(function (savedGroup) {
                var groups = _this7.state.groups;
                Object.assign(group, _extends({}, savedGroup));
                _this7.setState({ groups: groups });
            });
        }
    }, {
        key: 'handleRemoveGroup',
        value: function handleRemoveGroup(group) {
            var _this8 = this;

            this.removeConfirm.request({ title: 'Remove group ' + group.name + '?', accept: 'Remove', acceptIcon: 'delete_forever' }).then(function () {
                return _api2.default.groups.removeGroup(group);
            }).then(function (e) {
                var groups = _this8.state.groups;
                var index = groups.findIndex(function (g) {
                    return g._id == group._id;
                });
                if (index > -1) {
                    groups.splice(index, 1);
                    _this8.setState({ groups: groups });
                }
            });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this9 = this;

            return _react2.default.createElement(
                _list.List,
                { selectable: true, ripple: true },
                this.state.groups.map(function (g, k) {
                    var rightMenu = _react2.default.createElement(
                        _menu.IconMenu,
                        { icon: 'more_vert', onClick: function onClick(e) {
                                e.stopPropagation();
                            } },
                        _react2.default.createElement(_menu.MenuItem, { icon: 'mode_edit', caption: 'Edit', onClick: function onClick() {
                                return _this9.handleEditGroup(g);
                            } }),
                        _react2.default.createElement(_menu.MenuItem, { icon: 'delete_forever', caption: 'Remove', onClick: function onClick() {
                                return _this9.handleRemoveGroup(g);
                            } })
                    );
                    return _react2.default.createElement(_list.ListItem, { key: k, caption: g.name, rightIcon: rightMenu, onClick: function onClick() {
                            return _this9.handleEditGroup(g);
                        } });
                }),
                _react2.default.createElement(GroupEditor, { ref: function ref(c) {
                        return _this9.editor = c;
                    } }),
                _react2.default.createElement(_components.ConfirmationDialog, { ref: function ref(c) {
                        return _this9.removeConfirm = c;
                    } })
            );
        }
    }]);

    return GroupsList;
}(_react2.default.Component);

/***/ }),

/***/ "./src_admin/users/users.js":
/* no static exports found */
/* all exports used */
/*!**********************************!*\
  !*** ./src_admin/users/users.js ***!
  \**********************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Users = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

var _userslist = __webpack_require__(/*! ./userslist */ "./src_admin/users/userslist.js");

var _groupslist = __webpack_require__(/*! ./groupslist */ "./src_admin/users/groupslist.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Users = exports.Users = function (_React$Component) {
    _inherits(Users, _React$Component);

    function Users() {
        _classCallCheck(this, Users);

        var _this = _possibleConstructorReturn(this, (Users.__proto__ || Object.getPrototypeOf(Users)).call(this));

        _this.state = {
            tabIndex: 0
        };
        return _this;
    }

    _createClass(Users, [{
        key: 'handleAppMenuClick',
        value: function handleAppMenuClick() {
            this.props.onMenuClick ? this.props.onMenuClick() : null;
        }
    }, {
        key: 'render',
        value: function render() {
            var _this2 = this;

            var buttonAdd = this.state.tabIndex == 0 ? _react2.default.createElement(_reactToolbox.Button, { label: 'Add user', icon: 'person_add', onClick: function onClick() {
                    return _this2.users.addUser();
                }, primary: true, raised: true }) : _react2.default.createElement(_reactToolbox.Button, { label: 'Add group', icon: 'group_add', onClick: function onClick() {
                    return _this2.groups.addGroup();
                }, primary: true, raised: true });

            return _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(
                    _reactToolbox.AppBar,
                    { title: 'Users and groups', leftIcon: 'menu', onLeftIconClick: function onLeftIconClick() {
                            return _this2.handleAppMenuClick();
                        } },
                    buttonAdd
                ),
                _react2.default.createElement(
                    _reactToolbox.Tabs,
                    { index: this.state.tabIndex, onChange: function onChange(tabIndex) {
                            return _this2.setState({ tabIndex: tabIndex });
                        }, inverse: true },
                    _react2.default.createElement(
                        _reactToolbox.Tab,
                        { label: 'Users', icon: 'account_circle' },
                        _react2.default.createElement(_userslist.UsersList, { ref: function ref(c) {
                                return _this2.users = c;
                            } })
                    ),
                    _react2.default.createElement(
                        _reactToolbox.Tab,
                        { label: 'Groups', icon: 'group' },
                        _react2.default.createElement(_groupslist.GroupsList, { ref: function ref(c) {
                                return _this2.groups = c;
                            } })
                    )
                )
            );
        }
    }]);

    return Users;
}(_react2.default.Component);

/***/ }),

/***/ "./src_admin/users/userslist.js":
/* no static exports found */
/* all exports used */
/*!**************************************!*\
  !*** ./src_admin/users/userslist.js ***!
  \**************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.UsersList = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

var _menu = __webpack_require__(/*! react-toolbox/lib/menu */ "./node_modules/react-toolbox/lib/menu/index.js");

var _api = __webpack_require__(/*! ../api */ "./src_admin/api.js");

var _api2 = _interopRequireDefault(_api);

var _components = __webpack_require__(/*! ../components */ "./src_admin/components/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var UserEditor = function (_React$Component) {
    _inherits(UserEditor, _React$Component);

    function UserEditor() {
        _classCallCheck(this, UserEditor);

        var _this = _possibleConstructorReturn(this, (UserEditor.__proto__ || Object.getPrototypeOf(UserEditor)).call(this));

        _this.state = {};

        _this.actions = [{ icon: 'close', label: 'Cancel', onClick: function onClick() {
                return _this.handleCancel();
            } }, { icon: 'done', label: 'Save', onClick: function onClick() {
                return _this.handleSave();
            } }];
        _this.title = '';
        _this.active = false;
        _this.groups = [];
        return _this;
    }

    _createClass(UserEditor, [{
        key: 'handleSave',
        value: function handleSave() {
            var user = _extends({}, this.state);
            this.active = false;
            this.$resolve(user);
            this.setState({});
        }
    }, {
        key: 'handleCancel',
        value: function handleCancel() {
            this.active = false;
            this.setState({});
            this.$reject('');
        }
    }, {
        key: 'setUser',
        value: function setUser(user) {
            var _this2 = this;

            return new Promise(function (resolve, reject) {
                _this2.$resolve = resolve;
                _this2.$reject = reject;
                _this2.active = true;
                _this2.title = user._id ? 'Edit user ' + user.name : 'Create user';
                _this2.setState(_extends({}, user));
                _api2.default.groups.getGroups().then(function (groups) {
                    var uGroups = (_this2.state.groups || []).copyWithin();
                    uGroups = uGroups.filter(function (_id) {
                        return groups.findIndex(function (group) {
                            return group._id == _id;
                        }) > -1;
                    });
                    console.log(uGroups);
                    _this2.groups = groups;
                    _this2.setState({ groups: uGroups });
                });
            });
        }
    }, {
        key: 'groupIsSelected',
        value: function groupIsSelected(group) {}
    }, {
        key: 'handleGroupToggle',
        value: function handleGroupToggle(group) {}
    }, {
        key: 'toggleGroup',
        value: function toggleGroup(group) {
            var groups = this.state.groups.copyWithin();
            var index = groups.indexOf(group._id);
            if (index > -1) {
                groups.splice(index, 1);
            } else {
                groups.push(group._id);
            }
            this.setState({ groups: groups });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            return _react2.default.createElement(
                _reactToolbox.Dialog,
                { active: this.active,
                    actions: this.actions,
                    title: this.title },
                _react2.default.createElement(
                    'div',
                    { style: { maxHeight: '400px', overflowY: 'scroll' } },
                    _react2.default.createElement(_reactToolbox.Input, { type: 'text', label: 'Username', value: this.state.username, onChange: function onChange(username) {
                            return _this3.setState({ username: username });
                        }, required: true }),
                    _react2.default.createElement(_reactToolbox.Input, { type: 'text', label: 'Login', value: this.state.login, onChange: function onChange(login) {
                            return _this3.setState({ login: login });
                        }, required: true }),
                    _react2.default.createElement(_reactToolbox.Input, { type: 'text', label: 'Password', value: this.state.passwd, onChange: function onChange(passwd) {
                            return _this3.setState({ passwd: passwd });
                        }, required: true }),
                    _react2.default.createElement(_reactToolbox.Input, { type: 'text', label: 'Password confirmation', value: this.state.passwd2, onChange: function onChange(passwd2) {
                            return _this3.setState({ passwd2: passwd2 });
                        }, required: true }),
                    _react2.default.createElement(_reactToolbox.Switch, { label: 'User is enabled', checked: this.state.enabled, onChange: function onChange(enabled) {
                            return _this3.setState({ enabled: enabled });
                        } }),
                    _react2.default.createElement(
                        'bold',
                        null,
                        'Member of groups:'
                    ),
                    _react2.default.createElement(
                        _list.List,
                        null,
                        this.groups.map(function (g, k) {
                            var rightIcon = _this3.state.groups.indexOf(g._id) > -1 ? 'check_box' : 'check_box_outline_blank';
                            return _react2.default.createElement(_list.ListItem, { key: k, caption: g.name, rightIcon: rightIcon, onClick: function onClick() {
                                    return _this3.toggleGroup(g);
                                } });
                        })
                    )
                )
            );
        }
    }]);

    return UserEditor;
}(_react2.default.Component);

var UsersList = exports.UsersList = function (_React$Component2) {
    _inherits(UsersList, _React$Component2);

    function UsersList() {
        _classCallCheck(this, UsersList);

        var _this4 = _possibleConstructorReturn(this, (UsersList.__proto__ || Object.getPrototypeOf(UsersList)).call(this));

        _this4.state = {
            users: []
        };
        return _this4;
    }

    _createClass(UsersList, [{
        key: 'componentWillMount',
        value: function componentWillMount() {
            var _this5 = this;

            _api2.default.getUsers().then(function (users) {
                return _this5.setState({ users: users });
            });
        }
    }, {
        key: 'addUser',
        value: function addUser() {
            var _this6 = this;

            this.editor.setUser({}).then(function (user) {
                _api2.default.saveUser(user).then(function (user) {
                    var users = _this6.state.users;
                    users.push(user);
                    _this6.setState({ users: users });
                });
            });
        }
    }, {
        key: 'handleEditUser',
        value: function handleEditUser(srcUser) {
            var _this7 = this;

            this.editor.setUser(srcUser).then(_api2.default.saveUser).then(function (user) {
                var users = _this7.state.users;
                Object.assign(srcUser, _extends({}, user));
                _this7.setState({ users: users });
            });
        }
    }, {
        key: 'handleRemoveUser',
        value: function handleRemoveUser(srcUser) {
            var _this8 = this;

            this.removeConfirmation.request({ title: 'Remove ' + srcUser.username + '?', accept: 'Remove', acceptIcon: 'delete_forever' }).then(_api2.default.removeUser(srcUser)).then(function () {
                var users = _this8.state.users;
                var index = users.findIndex(function (u) {
                    return u._id == srcUser._id;
                });
                if (index > -1) {
                    users.splice(index, 1);
                    _this8.setState({ users: users });
                }
            });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this9 = this;

            return _react2.default.createElement(
                _list.List,
                { selectable: true, ripple: true },
                this.state.users.map(function (u, k) {
                    var rightMenu = _react2.default.createElement(
                        _menu.IconMenu,
                        { icon: 'more_vert', onClick: function onClick(e) {
                                e.stopPropagation();
                            } },
                        _react2.default.createElement(_menu.MenuItem, { icon: 'mode_edit', caption: 'Edit', onClick: function onClick() {
                                return _this9.handleEditUser(u);
                            } }),
                        _react2.default.createElement(_menu.MenuItem, { icon: 'delete_forever', caption: 'Remove', onClick: function onClick() {
                                return _this9.handleRemoveUser(u);
                            } })
                    );
                    return _react2.default.createElement(_list.ListItem, { key: k, caption: u.username, rightIcon: rightMenu, onClick: function onClick() {
                            return _this9.handleEditUser(u);
                        } });
                }),
                _react2.default.createElement(UserEditor, { ref: function ref(c) {
                        return _this9.editor = c;
                    } }),
                _react2.default.createElement(_components.ConfirmationDialog, { ref: function ref(c) {
                        return _this9.removeConfirmation = c;
                    } })
            );
        }
    }]);

    return UsersList;
}(_react2.default.Component);

/***/ }),

/***/ "./src_admin/widgets/widgets.js":
/* no static exports found */
/* all exports used */
/*!**************************************!*\
  !*** ./src_admin/widgets/widgets.js ***!
  \**************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Widgets = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/react.js");

var _react2 = _interopRequireDefault(_react);

var _reactToolbox = __webpack_require__(/*! react-toolbox */ "./node_modules/react-toolbox/lib/index.js");

var _list = __webpack_require__(/*! react-toolbox/lib/list */ "./node_modules/react-toolbox/lib/list/index.js");

var _menu = __webpack_require__(/*! react-toolbox/lib/menu */ "./node_modules/react-toolbox/lib/menu/index.js");

var _components = __webpack_require__(/*! ../components */ "./src_admin/components/index.js");

var _api = __webpack_require__(/*! ../api/ */ "./src_admin/api/index.js");

var _api2 = _interopRequireDefault(_api);

var _components2 = __webpack_require__(/*! ../dashboard/components */ "./src_admin/dashboard/components.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var WidgetEditor = function (_React$Component) {
    _inherits(WidgetEditor, _React$Component);

    function WidgetEditor() {
        _classCallCheck(this, WidgetEditor);

        var _this = _possibleConstructorReturn(this, (WidgetEditor.__proto__ || Object.getPrototypeOf(WidgetEditor)).call(this));

        _this.state = {};
        _this.active = false;
        _this.actions = [{ icon: 'done', label: 'Save', onClick: function onClick() {
                return _this.handleSaveClick();
            } }, { icon: 'close', label: 'Cancel', onClick: function onClick() {
                return _this.handleCancelClick();
            } }];
        return _this;
    }

    _createClass(WidgetEditor, [{
        key: 'edit',
        value: function edit(w) {
            var _this2 = this;

            return new Promise(function (resolve, reject) {
                _this2.resolve = resolve;
                _this2.reject = reject;
                _this2.active = true;
                _this2.setState(_extends({}, w));
            });
        }
    }, {
        key: 'handleSaveClick',
        value: function handleSaveClick() {
            this.active = false;
            var w = _extends({}, this.state);
            this.setState({});
            this.resolve(w);
        }
    }, {
        key: 'handleCancelClick',
        value: function handleCancelClick() {
            this.active = false;
            this.setState({});
            this.reject();
        }
    }, {
        key: 'handleTabChange',
        value: function handleTabChange(index) {
            this.tabIndex = index;
            this.setState({});
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            return _react2.default.createElement(
                _reactToolbox.Dialog,
                { active: this.active,
                    actions: this.actions,
                    title: 'Edit widget'
                },
                _react2.default.createElement(
                    _reactToolbox.Tabs,
                    { index: this.tabIndex, onChange: function onChange(i) {
                            return _this3.handleTabChange(i);
                        }, fixed: true },
                    _react2.default.createElement(
                        _reactToolbox.Tab,
                        { label: 'Common' },
                        _react2.default.createElement(_reactToolbox.Input, { title: 'Widget label', value: this.state.label, onChange: function onChange(label) {
                                return _this3.setState({ label: label });
                            } }),
                        _react2.default.createElement(_reactToolbox.Input, { title: 'Widget description', value: this.state.description, onChange: function onChange(description) {
                                return _this3.setState({ description: description });
                            } }),
                        _react2.default.createElement(_reactToolbox.Switch, { title: 'Widget enabled', checked: this.state.enabled, onChange: function onChange(enabled) {
                                return _this3.setState({ enabled: enabled });
                            } }),
                        _react2.default.createElement(_components.IconSelector, { label: 'Widget icon', value: this.state.icon, onChange: function onChange(icon) {
                                return _this3.setState({ icon: icon });
                            } }),
                        _react2.default.createElement(_components2.DashboardSelector, { label: 'Display on dashboards', selected: this.state.dashboards, onChange: function onChange(dashboards) {
                                return _this3.setState({ dashboards: dashboards });
                            } })
                    ),
                    _react2.default.createElement(_reactToolbox.Tab, { label: 'Config' })
                )
            );
        }
    }]);

    return WidgetEditor;
}(_react2.default.Component);

var Widgets = exports.Widgets = function (_React$Component2) {
    _inherits(Widgets, _React$Component2);

    function Widgets() {
        _classCallCheck(this, Widgets);

        var _this4 = _possibleConstructorReturn(this, (Widgets.__proto__ || Object.getPrototypeOf(Widgets)).call(this));

        _this4.state = {
            widgets: []
        };

        return _this4;
    }

    _createClass(Widgets, [{
        key: 'componentWillMount',
        value: function componentWillMount() {
            var _this5 = this;

            _api2.default.widgets.list().then(function (widgets) {
                _this5.setState({ widgets: widgets });
            });
        }
    }, {
        key: 'handleAppMenuClick',
        value: function handleAppMenuClick() {
            this.props.onMenuClick ? this.props.onMenuClick() : null;
        }
    }, {
        key: 'handleEditWidget',
        value: function handleEditWidget(w) {
            var _this6 = this;

            this.editor.edit(w).then(function (widget) {
                return _api2.default.widgets.save(widget);
            }).then(function (widget) {
                var widgets = _this6.state.widgets.copyWithin();
                var index = widgets.findIndex(function (w) {
                    return w._id == widget._id;
                });
                if (index > -1) {
                    Object.assign(widgets[index], widget);
                } else {
                    widgets.push(widget);
                }
                _this6.setState({ widgets: widgets });
            });
        }
    }, {
        key: 'handleRemoveWidget',
        value: function handleRemoveWidget(w) {
            var _this7 = this;

            this.removeConfirm.request({ title: 'Remove widget ' + w.label + '?', accept: 'Remove', acceptIcon: 'delete_forever' }).then(function () {
                return _api2.default.widgets.remove(w);
            }).then(function () {
                var widgets = _this7.state.widgets;
                var index = widgets.findIndex(function (widget) {
                    return widget._id == w._id;
                });
                if (index > -1) {
                    widgets.splice(index, 1);
                    _this7.setState({ widgets: widgets });
                }
            });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this8 = this;

            return _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactToolbox.AppBar, { title: 'Widgets', leftIcon: 'menu', onLeftIconClick: function onLeftIconClick() {
                        return _this8.handleAppMenuClick();
                    } }),
                _react2.default.createElement(
                    _list.List,
                    null,
                    this.state.widgets.map(function (w, k) {
                        var rightMenu = _react2.default.createElement(
                            _menu.IconMenu,
                            { icon: 'more_vert', onClick: function onClick(e) {
                                    e.stopPropagation();
                                } },
                            _react2.default.createElement(_menu.MenuItem, { icon: 'mode_edit', caption: 'Edit', onClick: function onClick() {
                                    return _this8.handleEditWidget(w);
                                } }),
                            _react2.default.createElement(_menu.MenuItem, { icon: 'delete_forever', caption: 'Remove', onClick: function onClick() {
                                    return _this8.handleRemoveWidget(w);
                                } })
                        );
                        return _react2.default.createElement(_list.ListItem, { key: k, caption: w.label, legend: w.description, leftIcon: w.icon, rightIcon: rightMenu, onClick: function onClick() {
                                return _this8.handleEditWidget(w);
                            } });
                    })
                ),
                _react2.default.createElement(WidgetEditor, { ref: function ref(c) {
                        return _this8.editor = c;
                    } }),
                _react2.default.createElement(_components.ConfirmationDialog, { ref: function ref(c) {
                        return _this8.removeConfirm = c;
                    } })
            );
        }
    }]);

    return Widgets;
}(_react2.default.Component);

/***/ })

},["./src_admin/app.js"]);